/* =========================
   MASISIR — Nuqthah Learn (V6)
   - SPA routes (hash)
   - Explore sticky header
   - Focus mode
   - News + Marketplace (secondary)
   - Settings: Dark mode + Admin panels
   - Hybrid data (file + localStorage)
========================= */

:root {
  --bg: #f6f7fb;
  --bg2: #eef2ff;
  --surface: rgba(255, 255, 255, .78);
  --surface-strong: rgba(255, 255, 255, .92);
  --surface-solid: #ffffff;

  --text: #0f172a;
  --muted: #64748b;
  --border: rgba(15, 23, 42, .10);

  --primary: #a4e814;
  --primary2: #cde708;
  --accent: #83ff07;
  --danger: #ef4444;

  --shadow-sm: 0 8px 22px rgba(15, 23, 42, .06);
  --shadow-md: 0 18px 60px rgba(15, 23, 42, .12);
  --shadow-xl: 0 34px 120px rgba(15, 23, 42, .16);
  --shadow-glow: 0 20px 60px rgba(37, 99, 235, .22);

  --radius-xl: 28px;
  --radius-lg: 22px;
  --radius-md: 16px;
  --radius-sm: 12px;

  --container: 1120px;
  --ring: 0 0 0 4px rgba(37, 99, 235, .18);
  --blur: 14px;
  --ease: cubic-bezier(.2, .9, .2, 1);
}

body.dark {
  --bg: #050816;
  --bg2: #0b1028;
  --surface: rgba(15, 23, 42, .66);
  --surface-strong: rgba(15, 23, 42, .82);
  --surface-solid: #0b1220;

  --text: #e5e7eb;
  --muted: #a3adc2;
  --border: rgba(255, 255, 255, .10);

  --shadow-sm: 0 10px 26px rgba(0, 0, 0, .28);
  --shadow-md: 0 26px 80px rgba(0, 0, 0, .35);
  --shadow-xl: 0 50px 140px rgba(0, 0, 0, .42);
  --shadow-glow: 0 24px 70px rgba(79, 70, 229, .25);

  --ring: 0 0 0 4px rgba(99, 102, 241, .22);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
}

html,
body {
  width: 100%;
  overflow-x: hidden;
}

body {
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(37, 99, 235, .11), transparent 60%),
    radial-gradient(900px 500px at 90% 10%, rgba(99, 102, 241, .10), transparent 55%),
    radial-gradient(900px 520px at 40% 110%, rgba(34, 197, 94, .07), transparent 55%),
    linear-gradient(180deg, var(--bg2), var(--bg));
  color: var(--text);
  line-height: 1.55;
  -webkit-tap-highlight-color: transparent;
}

/* Hindari garis bawah default pada link (banyak tombol menggunakan <a>) */
a {
  color: inherit;
  text-decoration: none;
}

a:visited {
  color: inherit;
}


.container {
  width: min(var(--container), calc(100% - 44px));
  margin: 0 auto;
}

.grain {
  pointer-events: none;
  position: fixed;
  inset: 0;
  opacity: .07;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='260' height='260' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
  z-index: 1;
}

.app {
  position: relative;
  z-index: 2;
  min-height: 100dvh;
}

/* ===== Routes ===== */
.route {
  display: none;
  opacity: 0;
  transform: translateY(10px);
  transition: opacity .35s var(--ease), transform .45s var(--ease);
  will-change: opacity, transform;
}

.route.active {
  display: block;
}

.route.enter {
  opacity: 1;
  transform: translateY(0);
}

.route.leave {
  opacity: 0;
  transform: translateY(12px);
}

.page-shell {
  padding-top: 92px;
  padding-bottom: 24px;
}

/* ===== Home Global Search (Mobile only) ===== */
.home-global-search {
  display: none;
  padding: 10px 0 6px;
}

/* =========================================================
   FINAL: Global Search hanya muncul di halaman HOME
   - home-top-fix.js akan toggle class: body.home-top-visible saat #home
   ========================================================= */

/* Default: sembunyikan di semua halaman */
.home-global-search {
  display: none;
}

/* Tampilkan hanya saat route = home (class dipasang oleh home-top-fix.js) */
body.home-top-visible .home-global-search {
  display: block;
}

/* Kunci keras: di halaman selain home, jangan tampilkan sama sekali */
body:not(.home-top-visible) .home-global-search {
  display: none !important;
}


.wa-search {
  position: relative;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 76%, transparent);
  box-shadow: var(--shadow-sm);
  backdrop-filter: blur(var(--blur));
}

.wa-ico {
  opacity: .75;
  font-size: 16px;
  user-select: none;
}

.wa-search input {
  width: 100%;
  border: 0;
  outline: none;
  background: transparent;
  color: var(--text);
  font-size: 14px;
  font-weight: 850;
}

.wa-clear {
  width: 34px;
  height: 34px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  box-shadow: var(--shadow-sm);
  cursor: pointer;
  font-weight: 1100;
  color: color-mix(in srgb, var(--text) 80%, var(--muted));
  display: none;
}

.wa-results {
  margin-top: 10px;
  border: 1px solid var(--border);
  border-radius: 22px;
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-md);
  overflow: hidden;
}

.wa-results .wr-head {
  padding: 12px 14px;
  border-bottom: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.wa-results .wr-head b {
  font-weight: 1000;
  font-size: 13px;
  letter-spacing: -.15px;
}

.wa-results .wr-head span {
  font-size: 11px;
  font-weight: 900;
  color: var(--muted);
}

.wa-results .wr-list {
  padding: 10px;
  display: grid;
  gap: 8px;
}

.wa-results .wr-item {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 72%, transparent);
  border-radius: 16px;
  padding: 10px 12px;
  display: grid;
  gap: 4px;
  cursor: pointer;
  box-shadow: var(--shadow-sm);
}

.wa-results .wr-item:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

.wa-results .wr-item b {
  font-size: 13px;
  font-weight: 1000;
  letter-spacing: -.1px;
}

.wa-results .wr-item small {
  font-size: 11px;
  color: var(--muted);
  font-weight: 850;
  line-height: 1.35;
}

.wa-results .wr-empty {
  padding: 14px;
  color: var(--muted);
  font-weight: 900;
  font-size: 12px;
}


/* ===== Floating Nav ===== */
.top-nav {
  position: fixed;
  top: 16px;
  left: 0;
  right: 0;
  z-index: 999;
  background: transparent;
  border-bottom: none;
  backdrop-filter: none;
}

.top-nav .nav-inner {
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  border: 1px solid var(--border);
  border-radius: 999px;
  box-shadow: var(--shadow-md);
  padding: 12px 14px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.brand {
  display: flex;
  gap: 12px;
  align-items: center;
  min-width: 220px;
  cursor: pointer;
  user-select: none;
}

.brand-mark {
  width: 40px;
  height: 40px;
  border-radius: 16px;
  display: grid;
  place-items: center;
  color: white;
  font-weight: 950;
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  box-shadow: var(--shadow-glow);
  flex-shrink: 0;
  position: relative;
  overflow: hidden;
}

.brand-mark::after {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: 16px;
  background: radial-gradient(70% 70% at 30% 20%, rgba(255, 255, 255, .35), transparent 55%);
  pointer-events: none;
}

.brand-text strong {
  display: block;
  font-size: 14px;
  letter-spacing: .2px;
  font-weight: 950;
  color: var(--text);
}

.brand-text span {
  display: block;
  font-size: 12px;
  color: var(--muted);
  margin-top: 1px;
  font-weight: 750;
}

.nav-actions {
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: flex-end;
  flex-wrap: nowrap;
}

.btn {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 78%, transparent);
  color: var(--text);
  padding: 10px 14px;
  border-radius: 14px;
  font-weight: 850;
  cursor: pointer;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), background .18s var(--ease), border-color .18s var(--ease);
  box-shadow: var(--shadow-sm);
  display: inline-flex;
  align-items: center;
  gap: 8px;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.btn:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.btn:active {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
  filter: brightness(.99);
}

.btn:focus {
  outline: none;
  box-shadow: var(--shadow-sm), var(--ring);
}

.btn:focus:not(:focus-visible) {
  box-shadow: var(--shadow-sm);
}

.btn-primary {
  border: none;
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  color: white;
  box-shadow: var(--shadow-glow);
}

.modal-actions .btn-primary {
  background: #ffffff !important;
  color: #0f172a !important;
  border: 1px solid var(--border);
  box-shadow: var(--shadow-sm);
}


body.dark .btn-white {
  background: #ffffff;
  color: #0f172a;
}

.btn-soft {
  border: 1px solid color-mix(in srgb, var(--primary) 18%, var(--border));
  background: radial-gradient(380px 160px at 20% 0%, rgba(37, 99, 235, .16), transparent 60%), color-mix(in srgb, var(--surface-solid) 78%, transparent);
}

.btn-icon {
  width: 40px;
  height: 40px;
  padding: 0;
  display: grid;
  place-items: center;
  border-radius: 14px;
}

.kbd {
  font-size: 11px;
  padding: 3px 7px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  color: color-mix(in srgb, var(--text) 82%, var(--muted));
  font-weight: 900;
}

.ico {
  font-size: 16px
}

.lbl {
  font-weight: 900
}

/* ===== Hero + Home ===== */
.hero-wrap {
  padding: 8px 0 10px;
}

.hero {
  display: grid;
  grid-template-columns: 1.25fr .85fr;
  gap: 16px;
  align-items: stretch;
}

.hero-card,
.teacher-card {
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-xl);
  overflow: hidden;
}

.hero-card {
  padding: 22px;
  position: relative;
}

.hero-card::before {
  content: "";
  position: absolute;
  inset: -1px;
  background:
    radial-gradient(900px 380px at 10% 0%, rgba(37, 99, 235, .18), transparent 55%),
    radial-gradient(700px 320px at 90% 20%, rgba(99, 102, 241, .14), transparent 60%),
    radial-gradient(700px 280px at 50% 120%, rgba(34, 197, 94, .10), transparent 55%);
  pointer-events: none;
  opacity: .95;
}

.hero-top {
  position: relative;
  display: flex;
  flex-direction: column;
  /* tombol turun ke bawah tulisan */
  align-items: stretch;
  gap: 14px;
}

.hero-title h1 {
  font-size: clamp(28px, 4.2vw, 46px);
  font-weight: 900;
  letter-spacing: -.8px;
  line-height: 1.06;
}

.hero-title p {
  margin-top: 8px;
  color: var(--muted);
  font-size: 14px;
  max-width: 62ch;
  font-weight: 750;
}

.pill {
  position: relative;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  color: color-mix(in srgb, var(--text) 90%, var(--muted));
  font-size: 12px;
  font-weight: 950;
  white-space: nowrap;
  box-shadow: var(--shadow-sm);
}

.home-actions {
  position: relative;
  margin-top: 16px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

.quick-filter {
  position: relative;
  margin-top: 16px;
  border: 1px solid var(--border);
  border-radius: 22px;
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  box-shadow: var(--shadow-sm);
  padding: 14px;
}

.qf-head h3 {
  font-size: 15px;
  font-weight: 1000;
  letter-spacing: -.2px;
}

.qf-head p {
  margin-top: 4px;
  color: var(--muted);
  font-weight: 800;
  font-size: 12px;
}

.mini-row {
  margin-top: 10px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

.chip {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  border-radius: 999px;
  padding: 8px 10px;
  font-size: 12px;
  font-weight: 900;
  color: color-mix(in srgb, var(--text) 90%, var(--muted));
  cursor: pointer;
  transition: transform .16s var(--ease), box-shadow .16s var(--ease), background .16s var(--ease), border-color .16s var(--ease);
  box-shadow: var(--shadow-sm);
  -webkit-tap-highlight-color: transparent;
}

.chip:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.chip:active {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}

.chip.is-active,
.chip.active {
  border-color: color-mix(in srgb, var(--primary) 35%, var(--border));
  background: radial-gradient(260px 120px at 20% 0%, rgba(37, 99, 235, .18), transparent 60%), color-mix(in srgb, #f4a418 70%, transparent) !important;
  color: var(--text);
}

.teacher-card {
  display: grid;
  grid-template-columns: 1.25fr 1fr;
  min-height: 320px;
}

.teacher-media {
  position: relative;
  background: #0b1220;
}

.teacher-media img {
  width: 100%;
  height: 100%;
  min-height: 320px;
  object-fit: cover;
  display: block;
  filter: saturate(1.02) contrast(1.02);
  transform: scale(1.01);
}

.teacher-media.noimg .teacher-fallback {
  display: block;
}

.teacher-fallback {
  display: none;
  position: absolute;
  inset: 0;
  background:
    radial-gradient(800px 360px at 30% 20%, rgba(255, 255, 255, .14), transparent 55%),
    linear-gradient(135deg, #0b1220, #1f2a44);
}

.teacher-media::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(700px 300px at 30% 20%, rgba(255, 255, 255, .12), transparent 55%), linear-gradient(to right, rgba(0, 0, 0, .10), rgba(0, 0, 0, .35));
  pointer-events: none;
}

.teacher-content {
  padding: 22px;
  display: grid;
  align-content: center;
  gap: 10px;
}

.kicker {
  display: inline-flex;
  width: fit-content;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 72%, transparent);
  font-size: 12px;
  font-weight: 950;
  color: color-mix(in srgb, var(--text) 88%, var(--muted));
  box-shadow: var(--shadow-sm);
}

.teacher-content h2 {
  font-size: 24px;
  font-weight: 1000;
  letter-spacing: -.6px;
  line-height: 1.1;
}

.teacher-content p {
  color: var(--muted);
  font-size: 14px;
  font-weight: 800;
}

.tlist {
  list-style: none;
  display: grid;
  gap: 8px;
  margin-top: 4px;
}

.tlist li {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  border-radius: 16px;
  padding: 10px 12px;
  box-shadow: var(--shadow-sm);
  font-weight: 850;
  color: color-mix(in srgb, var(--text) 86%, var(--muted));
}

.teacher-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 6px;
}

.note {
  font-size: 12px;
  font-weight: 850;
  color: color-mix(in srgb, var(--muted) 92%, var(--text));
}

.section {
  padding: 18px 0 26px;
}

.section-title {
  font-size: 18px;
  font-weight: 1000;
  letter-spacing: -.3px;
  margin-bottom: 0.1px;
}

.section-sub {
  color: var(--muted);
  font-weight: 850;
  font-size: 12px;
  margin-top: 20px;
}

.section-title-row {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 14px;
  margin-bottom: 5px;
}

.hint-foot {
  margin-top: 14px;
  color: var(--muted);
  font-weight: 850;
  font-size: 12px;
}

.foot {
  padding: 16px 0 28px;
  font-size: 13px;
  color: color-mix(in srgb, var(--muted) 92%, var(--text));
  text-align: center;
}

.foot.subtle {
  opacity: .9
}

.grid-2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.panel {
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-md);
  overflow: hidden;
}

.panel-hd {
  padding: 14px;
  border-bottom: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.panel-hd strong {
  font-size: 13px;
  font-weight: 1000;
  letter-spacing: -.2px;
}

.panel-hd .small {
  font-size: 11px;
  font-weight: 900;
  color: color-mix(in srgb, var(--text) 78%, var(--muted));
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  padding: 6px 10px;
  border-radius: 999px;
}

.panel-bd {
  padding: 14px;
  display: grid;
  gap: 12px;
}

.promo p {
  color: var(--muted);
  font-weight: 800;
  font-size: 13px;
}

.muted {
  color: var(--muted);
  font-weight: 850;
  font-size: 12px;
}

/* ===== Explore Sticky header ===== */
.explore-sticky {
  position: sticky;
  top: 92px;
  /* matches page-shell padding + nav */
  z-index: 20;
  padding: 12px 0 10px;
  background: linear-gradient(180deg, color-mix(in srgb, var(--bg) 0%, transparent), transparent);
  backdrop-filter: blur(var(--blur));
  border-bottom: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
}

.toolbar {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  align-items: center;
  margin: 12px 0 10px;
}

.search {
  position: relative;
}

.search input {
  width: 100%;
  padding: 14px 44px 14px 42px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  box-shadow: var(--shadow-sm);
  color: var(--text);
  font-size: 14px;
  font-weight: 800;
  outline: none;
  transition: box-shadow .2s var(--ease), border-color .2s var(--ease), background .2s var(--ease);
}

.search input:focus {
  box-shadow: var(--shadow-sm), var(--ring);
  border-color: color-mix(in srgb, var(--primary) 30%, var(--border));
  background: color-mix(in srgb, var(--surface-solid) 84%, transparent);
}

.search .icon {
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  opacity: .75;
  font-size: 16px;
  user-select: none;
}

.search .clear {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 34px;
  height: 34px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  cursor: pointer;
  font-weight: 1000;
  color: color-mix(in srgb, var(--text) 80%, var(--muted));
  display: none;
  box-shadow: var(--shadow-sm);
}

.search.small input {
  padding: 12px 14px 12px 38px;
  border-radius: 16px;
}

.toolbar-right {
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  flex-wrap: wrap;
}

.card-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
}

.class-card {
  position: relative;
  border: 1px solid var(--border);
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  padding: 18px;
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-sm);
  cursor: pointer;
  overflow: hidden;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), border-color .18s var(--ease);
  outline: none;
}

.class-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: color-mix(in srgb, var(--primary) 20%, var(--border));
}

.class-card:focus {
  box-shadow: var(--shadow-md), var(--ring);
}

.class-card h3 {
  font-size: 16px;
  font-weight: 1000;
  letter-spacing: -.25px;
  margin-bottom: 6px;
  position: relative;
  z-index: 2;
  color: var(--text);
}

.class-card p {
  font-size: 13px;
  color: var(--muted);
  font-weight: 800;
  position: relative;
  z-index: 2;
  max-width: 36ch;
}

.meta {
  margin-top: 12px;
  display: inline-flex;
  gap: 8px;
  align-items: center;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  color: color-mix(in srgb, var(--text) 85%, var(--muted));
  font-size: 12px;
  font-weight: 900;
  position: relative;
  z-index: 2;
  box-shadow: var(--shadow-sm);
}

.badge {
  position: absolute;
  top: 14px;
  right: 14px;
  font-size: 11px;
  font-weight: 1000;
  letter-spacing: .4px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, .18);
  color: white;
  z-index: 2;
}

.badge.new {
  background: linear-gradient(135deg, rgba(37, 99, 235, .95), rgba(79, 70, 229, .95));
}

.badge.popular {
  background: linear-gradient(135deg, rgba(244, 63, 94, .95), rgba(245, 158, 11, .95));
}

.badge.premium {
  background: linear-gradient(135deg, rgba(245, 158, 11, .95), rgba(249, 115, 22, .95));
  box-shadow: 0 18px 55px rgba(245, 158, 11, .22);
}

.class-card.elite {
  background: linear-gradient(135deg, #0b1220, #1f2a44);
  border: 1px solid rgba(255, 255, 255, .10);
  color: white;
  box-shadow: 0 26px 90px rgba(2, 6, 23, .35);
}

.class-card.elite h3 {
  color: white;
}

.class-card.elite p {
  color: rgba(255, 255, 255, .75);
}

.class-card.elite .meta {
  background: rgba(255, 255, 255, .08);
  border: 1px solid rgba(255, 255, 255, .14);
  color: rgba(255, 255, 255, .88);
}

/* ===== Learn ===== */
.learn-head {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  gap: 12px;
  margin-bottom: 12px;
  flex-wrap: wrap;
}

.learn-head h2 {
  font-size: 18px;
  font-weight: 1000;
  letter-spacing: -.25px;
}

.learn-head p {
  font-size: 12px;
  font-weight: 800;
  color: var(--muted);
  margin-top: 3px;
}

.learn-tools {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.progress-mini {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.progress-mini b {
  font-weight: 1000;
}

.bar {
  flex: 1 1 220px;
  height: 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}

.bar>i {
  display: block;
  height: 100%;
  width: 0%;
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  border-radius: 999px;
  box-shadow: 0 18px 55px rgba(37, 99, 235, .22);
  transition: width .35s var(--ease);
}

.learn-layout {
  display: grid;
  grid-template-columns: 330px 1fr;
  gap: 14px;
  align-items: start;
}

.lesson-list {
  padding: 10px;
  display: grid;
  gap: 10px;
  max-height: calc(100dvh - 260px);
  overflow: auto;
  overscroll-behavior: contain;
}

.lesson-item {
  border: 1px solid var(--border);
  border-radius: 18px;
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  box-shadow: var(--shadow-sm);
  padding: 12px;
  cursor: pointer;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), border-color .18s var(--ease);
  display: grid;
  gap: 6px;
  outline: none;
}

.lesson-item:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
  border-color: color-mix(in srgb, var(--primary) 22%, var(--border));
}

.lesson-item.active {
  border-color: color-mix(in srgb, var(--primary) 34%, var(--border));
  box-shadow: var(--shadow-md), var(--ring);
}

.lesson-item b {
  font-size: 13px;
  font-weight: 1000;
  letter-spacing: -.1px;
  color: var(--text);
}

.lesson-item small {
  font-size: 11px;
  color: var(--muted);
  font-weight: 850;
  line-height: 1.45;
}

.viewer {
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-md);
  overflow: hidden;
  position: relative;
  min-height: 420px;
}

.viewer-hd {
  padding: 14px;
  border-bottom: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
}

.viewer-hd .title {
  display: grid;
  gap: 2px;
}

.viewer-hd .title strong {
  font-size: 13px;
  font-weight: 1000;
  letter-spacing: -.2px;
  color: var(--text);
}

.viewer-hd .title span {
  font-size: 11px;
  color: var(--muted);
  font-weight: 850;
}

.viewer-body {
  position: relative;
  min-height: 380px;
  background:
    radial-gradient(900px 420px at 10% 0%, rgba(37, 99, 235, .10), transparent 60%),
    radial-gradient(900px 420px at 90% 10%, rgba(99, 102, 241, .08), transparent 60%),
    color-mix(in srgb, var(--surface-solid) 62%, transparent);
}

.viewer-body iframe {
  width: 100%;
  height: 420px;
  border: 0;
  display: block;
  background: transparent;
}

.viewer-empty {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  padding: 18px;
  text-align: center;
  color: color-mix(in srgb, var(--text) 72%, var(--muted));
  font-weight: 900;
}

.notes textarea {
  width: 100%;
  min-height: 180px;
  border: 0;
  outline: none;
  resize: vertical;
  padding: 14px;
  background: transparent;
  color: var(--text);
  font-size: 13px;
  font-weight: 800;
  line-height: 1.6;
}

/* ===== News ===== */
.news-head {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  gap: 12px;
  flex-wrap: wrap;
  margin-bottom: 12px;
}

.news-filters {
  display: grid;
  grid-template-columns: 1fr 260px;
  gap: 12px;
  align-items: center;
  margin-bottom: 14px;
}

.select,
.input {
  width: 100%;
  padding: 12px 12px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  color: var(--text);
  box-shadow: var(--shadow-sm);
  outline: none;
  font-weight: 800;
}

.select:focus,
.input:focus {
  box-shadow: var(--shadow-sm), var(--ring);
  border-color: color-mix(in srgb, var(--primary) 30%, var(--border));
}

.news-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 14px;
}

.news-card {
  border: 1px solid var(--border);
  border-radius: 18px;
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  padding: 14px;
  display: grid;
  gap: 10px;
}

.news-card h3 {
  font-size: 16px;
  font-weight: 1000;
  letter-spacing: -.25px;
}

.news-card .meta2 {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  color: var(--muted);
  font-weight: 850;
  font-size: 12px;
}

.news-card p {
  color: var(--muted);
  font-weight: 800;
  font-size: 13px;
  line-height: 1.5;
}

.news-img {
  width: 100%;
  height: 170px;
  border-radius: 16px;
  object-fit: cover;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 60%, transparent);
}

.pager {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin-top: 14px;
}

/* ===== Marketplace ===== */
.market-head {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 18px;
  margin: 8px 0 16px;
  flex-wrap: wrap;
}

.market-tools {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  align-items: center;
  margin-bottom: 14px;
}

.product-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 14px;
}

.product-card {
  position: relative;
  overflow: hidden;
  border-radius: 18px;
  border: 1px solid rgba(0, 0, 0, .08);
  background: color-mix(in srgb, var(--surface-solid) 78%, transparent);
  box-shadow: 0 18px 60px rgba(0, 0, 0, .08);
  backdrop-filter: blur(10px);
  transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease;
  cursor: pointer;
}

body.dark .product-card {
  border: 1px solid rgba(255, 255, 255, .10);
}

.product-card:hover {
  transform: translateY(-2px);
  border-color: rgba(0, 0, 0, .14);
  box-shadow: 0 26px 80px rgba(0, 0, 0, .12);
}

.product-cover {
  height: 160px;
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  position: relative;
  border-bottom: 1px solid var(--border);
}

.product-cover img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.product-body {
  padding: 12px 12px 14px;
  display: grid;
  gap: 8px;
}

.product-name {
  font-weight: 1000;
  font-size: 15px;
  letter-spacing: -.01em;
  color: var(--text);
}

.product-desc {
  color: var(--muted);
  font-weight: 800;
  font-size: 12px;
  line-height: 1.35;
  min-height: 34px;
}

.product-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-top: 4px;
}

.product-price {
  font-weight: 1000;
  font-size: 13px;
}

.product-cta {
  font-weight: 1000;
  font-size: 12px;
  padding: 8px 10px;
  border-radius: 12px;
  background: rgba(30, 64, 175, .10);
  border: 1px solid rgba(30, 64, 175, .18);
}

/* ===== Settings/Admin ===== */
.row-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.admin-gate {
  display: grid;
  gap: 8px;
  margin-top: 10px;
}

.admin-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.admin-panels {
  display: grid;
  gap: 12px;
  margin-top: 12px;
}

.admin-panel {
  border: 1px dashed color-mix(in srgb, var(--primary) 28%, var(--border));
  border-radius: 18px;
  padding: 12px;
  background: color-mix(in srgb, var(--surface-solid) 66%, transparent);
}

.panel-hd2 {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 10px;
}

.form {
  display: grid;
  gap: 10px;
}

.grid-2.tight {
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.mini-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 12px;
  justify-content: flex-end;
}

/* ===== Modal ===== */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, .45);
  display: none;
  align-items: center;
  justify-content: center;
  padding: 18px;
  /*
    IMPORTANT (mobile): navbar dipindah ke bawah memakai z-index: 999.
    Jika modal lebih rendah, area tombol modal akan “ketutup” navbar sehingga
    tombol (mis. "Kirim Bukti Pembayaran") tidak bisa di-klik.
  */
  z-index: 1200;
}

.modal-overlay.show {
  display: flex;
}

.modal {
  width: min(920px, 100%);
  border-radius: var(--radius-xl);
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 82%, transparent);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-xl);
  overflow: hidden;
  transform: translateY(10px);
  opacity: 0;
  transition: transform .22s var(--ease), opacity .22s var(--ease);
}

.modal-overlay.show .modal {
  transform: translateY(0);
  opacity: 1;
}

.modal-header {
  padding: 14px 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  border-bottom: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
}

/* Letakkan subjudul (kategori/tingkat/harga/...) di bawah judul materi */
.modal-title {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
}

.modal-title strong {
  font-size: 14px;
  font-weight: 1000;
  letter-spacing: -.2px;
}

.modal-title span {
  font-size: 12px;
  color: var(--muted);
  font-weight: 800;
}

.modal-close {
  width: 40px;
  height: 40px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 72%, transparent);
  cursor: pointer;
  font-weight: 1000;
  box-shadow: var(--shadow-sm);
  color: color-mix(in srgb, var(--text) 86%, var(--muted));
}

.modal-body {
  padding: 16px;
  display: grid;
  grid-template-columns: 1.1fr .9fr;
  gap: 14px;
}

.preview {
  border-radius: 22px;
  overflow: hidden;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 76%, transparent);
  min-height: 260px;
  box-shadow: var(--shadow-sm);
  position: relative;
}

.preview .ph {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-weight: 1000;
  color: color-mix(in srgb, var(--text) 70%, var(--muted));
  background: radial-gradient(500px 220px at 15% 0%, rgba(37, 99, 235, .14), transparent 60%), radial-gradient(520px 240px at 90% 10%, rgba(99, 102, 241, .12), transparent 60%), color-mix(in srgb, var(--surface-solid) 70%, transparent);
}

.preview iframe {
  width: 100%;
  height: 100%;
  border: 0;
  display: none;
}

.modal-info {
  border: 1px solid var(--border);
  border-radius: 22px;
  background: color-mix(in srgb, var(--surface-solid) 72%, transparent);
  box-shadow: var(--shadow-sm);
  padding: 14px;
  display: grid;
  gap: 10px;
}

.info-row p {
  font-size: 13px;
  color: var(--muted);
  font-weight: 800;
  line-height: 1.5;
}

.info-badges {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 2px;
}

.tiny {
  font-size: 11px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  font-weight: 900;
  color: color-mix(in srgb, var(--text) 86%, var(--muted));
}

.modal-actions {
  padding: 14px 16px 16px;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  border-top: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  flex-wrap: wrap;
}

/* NOTE:
   Tombol kiri di modal materi dipakai untuk "Daftar" (Google Form).
   Jadi jangan disembunyikan di mode lesson.
*/

/* Product image carousel in modal */
.img-carousel {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  background: transparent;
}

.img-carousel img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.ic-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 40px;
  height: 40px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, .22);
  background: rgba(0, 0, 0, .30);
  color: #fff;
  cursor: pointer;
  font-weight: 1000;
  backdrop-filter: blur(6px);
}

.ic-nav.left {
  left: 10px;
}

.ic-nav.right {
  right: 10px;
}

.ic-dots {
  position: absolute;
  bottom: 10px;
  left: 0;
  right: 0;
  display: flex;
  gap: 8px;
  justify-content: center;
  opacity: .95;
}

.ic-dots i {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: rgba(255, 255, 255, .45);
  border: 1px solid rgba(0, 0, 0, .15);
}

.ic-dots i.active {
  width: 20px;
  background: rgba(255, 255, 255, .85);
}

/* ===== Toast ===== */
.toast {
  position: fixed;
  right: 18px;
  bottom: 18px;
  z-index: 300;
  width: min(360px, calc(100% - 36px));
  border: 1px solid var(--border);
  border-radius: 18px;
  background: color-mix(in srgb, var(--surface-solid) 82%, transparent);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-xl);
  padding: 12px;
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 10px;
  align-items: center;
  transform: translateY(14px);
  opacity: 0;
  pointer-events: none;
  transition: transform .22s var(--ease), opacity .22s var(--ease);
}

.toast.show {
  transform: translateY(0);
  opacity: 1;
  pointer-events: auto;
}

.toast .dotty {
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: linear-gradient(135deg, var(--accent), #10b981);
  box-shadow: 0 18px 55px rgba(34, 197, 94, .22);
}

.toast strong {
  font-size: 12px;
  font-weight: 1000;
  letter-spacing: -.1px;
}

.toast span {
  display: block;
  font-size: 12px;
  color: var(--muted);
  font-weight: 800;
  margin-top: 1px;
}

.toast button {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  border-radius: 12px;
  width: 34px;
  height: 34px;
  cursor: pointer;
  font-weight: 1000;
  color: color-mix(in srgb, var(--text) 82%, var(--muted));
  box-shadow: var(--shadow-sm);
}

/* ===== Splash ===== */
#splash {
  position: fixed;
  inset: 0;
  z-index: 2000;
  background: radial-gradient(1200px 400px at 50% 0%, rgba(37, 99, 235, .10), transparent 60%), var(--surface-solid);
  display: grid;
  place-items: center;
  transition: opacity .45s ease, visibility .45s ease;
}

#splash.hide {
  opacity: 0;
  visibility: hidden;
}

.splash-inner {
  text-align: center;
  animation: splashFade .9s ease forwards;
}

.splash-logo {
  width: 92px;
  height: 92px;
  border-radius: 28px;
  display: grid;
  place-items: center;
  background: radial-gradient(120px 60px at 20% 0%, rgba(255, 255, 255, .35), transparent 60%), linear-gradient(180deg, #2563eb, #1e40af);
  box-shadow: 0 30px 60px rgba(37, 99, 235, .35), inset 0 1px 0 rgba(255, 255, 255, .35);
  animation: logoPop .9s cubic-bezier(.2, .9, .2, 1) forwards;
}

.logo-mark {
  font-size: 44px;
  font-weight: 1000;
  color: #fff;
  transform: translateY(-2px);
}

.splash-text {
  margin-top: 14px;
  font-size: 18px;
  font-weight: 1000;
  letter-spacing: -.3px;
  color: var(--text);
  opacity: 0;
  animation: textFade .6s ease forwards;
  animation-delay: .45s;
}

@keyframes logoPop {
  0% {
    transform: scale(.6);
    opacity: 0;
    filter: blur(6px);
  }

  60% {
    transform: scale(1.06);
  }

  100% {
    transform: scale(1);
    opacity: 1;
    filter: blur(0);
  }
}

@keyframes splashFade {
  from {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes textFade {
  from {
    opacity: 0;
    transform: translateY(6px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ===== Reduced motion ===== */
@media (prefers-reduced-motion: reduce) {

  .route,
  .btn,
  .chip,
  .class-card,
  .modal,
  .toast,
  .lesson-item,
  .bar>i {
    transition: none !important;
    animation: none !important;
  }
}

/* ===== Responsive ===== */
@media (max-width: 1100px) {
  .product-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

@media (max-width: 980px) {
  .hero {
    grid-template-columns: 1fr;
  }

  .teacher-card {
    grid-template-columns: 1fr;
  }

  .teacher-media {
    display: none;
  }

  .card-grid {
    grid-template-columns: 1fr;
  }

  .learn-layout {
    grid-template-columns: 1fr;
  }

  .lesson-list {
    max-height: 280px;
  }

  .modal-body {
    grid-template-columns: 1fr;
  }

  .news-grid {
    grid-template-columns: 1fr;
  }

  .market-tools {
    grid-template-columns: 1fr;
  }

  .news-filters {
    grid-template-columns: 1fr;
  }

  .product-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* WhatsApp-style search only on mobile, only for Home (because markup lives in #route-home) */
@media (max-width: 560px) {
  .home-global-search {
    display: block;
  }

  /* rapikan jarak agar search pas di area kosong bawah top-nav */
  .page-shell {
    padding-top: 104px;
  }

  .home-global-search .wa-search {
    padding: 12px 12px;
  }

  .home-global-search .wa-results {
    border-radius: 20px;
  }
}

/* (intentional) */

@media (max-width: 520px) {
  .container {
    width: min(var(--container), calc(100% - 28px));
  }

  .top-nav {
    top: 10px;
  }

  .top-nav .nav-inner {
    border-radius: 20px;
    padding: 10px 10px;
  }

  .page-shell {
    padding-top: 82px;
  }

  .brand {
    min-width: unset;
    gap: 10px;
  }

  .brand-mark {
    width: 32px;
    height: 32px;
    border-radius: 12px;
  }

  .brand-text span {
    display: none;
  }

  .btn {
    padding: 7px 9px;
    border-radius: 12px;
    font-size: 12px;
  }

  .btn-icon {
    width: 34px;
    height: 34px;
    border-radius: 12px;
  }

  .kbd {
    display: none;
  }

  .nav-actions {
    gap: 8px;
    max-width: 65vw;
    overflow-x: auto;
    scrollbar-width: none;
  }

  .nav-actions::-webkit-scrollbar {
    display: none;
  }

  /* hide labels on mobile (requested) */
  .nav-actions .lbl {
    display: none;
  }

  .hero-title h1 {
    font-size: 24px;
  }

  .product-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .product-cover {
    height: 140px;
  }

  .explore-sticky {
    top: 82px;
  }
}


/* ===========================
   V7 polish & layout fixes
   =========================== */

.home-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: 1.25fr .95fr;
  grid-template-areas:
    "hero teacher"
    "hero benefits"
    "packages benefits"
    "teachreg benefits"
    "sellerreg benefits";
}


.home-grid [data-area="hero"] {
  grid-area: hero;
}

.home-grid [data-area="benefits"] {
  grid-area: benefits;
}

.home-grid [data-area="teacher"] {
  grid-area: teacher;
}

.home-grid [data-area="teachreg"] {
  grid-area: teachreg;
}

.home-grid [data-area="packages"] {
  grid-area: packages;
}

.home-grid [data-area="sellerreg"] {
  grid-area: sellerreg;
}

@media (max-width: 920px) {
  .home-grid {
    grid-template-columns: 1fr;
    grid-template-areas:
      "hero"
      "packages"
      "teachreg"
      "teacher"
      "benefits"
      "sellerreg";
  }
}

.hero-title {
  font-size: clamp(28px, 3.4vw, 44px);
  line-height: 1.08;
  letter-spacing: -0.02em;
  max-width: 26ch;
  text-wrap: balance;
}

.hero-sub {
  max-width: 60ch;
}

/* Aksi cepat (button list) di kanan hero */
.hero-cta {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-start;
  /* jangan nempel kanan */
}

.hero-cta a {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.72), rgba(255, 255, 255, 0.52));
  border: 1px solid rgba(255, 255, 255, 0.6);
  box-shadow: 0 10px 30px rgba(10, 14, 28, 0.08);
  font-weight: 900;
}

.hero-cta a:hover {
  transform: translateY(-1px);
}

.hero-cta a:active {
  transform: translateY(0);
}

.hero-cta a:focus-visible {
  outline: 3px solid rgba(59, 130, 246, 0.35);
  outline-offset: 2px;
}

.hero-cta .cta-primary {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.95), rgba(99, 102, 241, 0.9));
  color: white;
  border: 1px solid rgba(99, 102, 241, 0.55);
}

.hero-cta .cta-muted {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.5));
}

@media (max-width: 900px) {

  /* Buat judul & tombol hero rapi di mobile */
  .hero-top {
    flex-direction: column;
    align-items: stretch;
    gap: 14px;
  }

  .hero-cta {
    justify-content: flex-start;
  }

  .hero-cta a {
    flex: 1 1 calc(50% - 10px);
  }
}

@media (max-width: 520px) {
  .hero-title {
    max-width: 42ch;
    font-size: 30px;
  }

  .hero-sub {
    font-size: 15px;
  }
}

.quick-filter {
  margin-top: 14px;
  padding: 14px;
  background: rgba(255, 255, 255, .6);
  border: 1px solid rgba(12, 20, 40, .08);
  border-radius: 18px;
}

.qf-head {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 12px;
}

.qf-title {
  font-weight: 800;
  display: flex;
  align-items: center;
  gap: 8px;
}

.qf-sub {
  color: var(--muted);
  font-weight: 600;
}

.promo-card {
  margin-top: 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px;
  border-radius: 18px;
  background: linear-gradient(135deg, rgba(59, 130, 246, .10), rgba(99, 102, 241, .08));
  border: 1px solid rgba(59, 130, 246, .18);
}

.promo-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 850;
  padding: 8px 10px;
  border-radius: 14px;
  background: rgba(255, 255, 255, .65);
  border: 1px solid rgba(12, 20, 40, .08);
}

.promo-text {
  margin-top: 6px;
  color: var(--muted);
  font-weight: 650;
}

.promo-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

@media (max-width: 520px) {
  .promo-card {
    flex-direction: column;
    align-items: flex-start;
  }

  .promo-actions {
    width: 100%;
  }
}

.teacher-profile {
  display: grid;
  grid-template-columns: 1.1fr 1.4fr;
  gap: 14px;
  overflow: hidden;
}

.teacher-profile .tp-media {
  position: relative;
  border-radius: 18px;
  overflow: hidden;
  background: radial-gradient(circle at 20% 20%, rgba(59, 130, 246, .28), rgba(17, 24, 39, .10));
  min-height: 220px;
}

.teacher-profile .tp-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.teacher-profile .tp-fallback {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 54px;
  font-weight: 900;
  color: rgba(255, 255, 255, .92);
}

.teacher-profile .tp-body {
  padding: 6px 4px;
}

.tp-kicker {
  font-size: 12px;
  font-weight: 850;
  color: rgba(59, 130, 246, .95);
  letter-spacing: .08em;
  text-transform: uppercase;
}

.tp-name {
  font-size: 22px;
  font-weight: 900;
  margin-top: 4px;
}

.tp-meta {
  color: var(--muted);
  font-weight: 700;
  margin-top: 4px;
}

.tp-desc {
  margin-top: 10px;
  color: var(--muted);
  font-weight: 650;
}

.tp-actions {
  margin-top: 14px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

@media (max-width: 520px) {
  .teacher-profile {
    grid-template-columns: 1fr;
  }

  .teacher-profile .tp-media {
    min-height: 180px;
  }
}

.benefits-card .benef-title {
  font-size: 18px;
  font-weight: 900;
}

.benefits-card .benef-sub {
  margin-top: 6px;
  color: var(--muted);
  font-weight: 650;
}

.benefits-card .benef-list {
  margin-top: 14px;
  display: grid;
  gap: 10px;
}

.benefits-card .benef-item {
  padding: 12px;
  border-radius: 16px;
  background: rgba(255, 255, 255, .55);
  border: 1px solid rgba(12, 20, 40, .08);
  font-weight: 800;
  display: flex;
  gap: 10px;
  align-items: flex-start;
}

.benefits-card .benef-actions {
  margin-top: 14px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.reg-card .reg-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 10px;
}

.reg-card .reg-title {
  font-weight: 900;
  font-size: 18px;
}

.reg-card .reg-pill {
  font-weight: 850;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255, 255, 255, .70);
  border: 1px solid rgba(12, 20, 40, .08);
  white-space: nowrap;
}

.reg-card .reg-desc {
  color: var(--muted);
  font-weight: 650;
  margin-bottom: 12px;
}

.reg-card .reg-note {
  margin-top: 10px;
  color: var(--muted);
  font-weight: 650;
}

@media (max-width: 520px) {
  .reg-card .reg-title {
    font-size: 17px;
  }

  .reg-card .reg-desc {
    font-size: 14px;
  }
}

.explore-sticky {
  position: sticky;
  top: 92px;
  z-index: 40;
  padding-top: 10px;
}

@media (max-width: 520px) {
  .explore-sticky {
    top: 78px;
    padding-top: 6px;
  }
}

.explore-titlebar {
  background: rgba(255, 255, 255, .45);
  border: 1px solid rgba(12, 20, 40, .04);
  border-radius: 18px;
  padding: 14px;
  backdrop-filter: blur(12px);
}

.explore-title {
  display: flex;
  align-items: baseline;
  gap: 14px;
  flex-wrap: wrap;
}

.explore-title .sub {
  max-width: 46ch;
}

.explore-title h2 {
  margin: 0;
}

.explore-title .sub {
  margin: 0;
  color: var(--muted);
  font-weight: 700;
}

@media (max-width: 520px) {
  .explore-title {
    flex-wrap: nowrap;
    align-items: flex-end;
  }

  .explore-title h2 {
    font-size: 26px;
  }

  .explore-title .sub {
    font-size: 14px;
    text-align: right;
  }
}

input,
textarea {
  font-weight: 500;
}

@media (max-width: 520px) {
  .route {
    padding-top: 10px;
  }
}

.nav-actions button:focus,
.nav-actions a:focus {
  outline: none;
}


.qf-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.qf-tags .chip {
  cursor: pointer;
}

/* ==============================
   Registrasi (Home)
   ============================== */
.reg-head {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.reg-head h3 {
  margin: 0;
  font-size: 20px;
  letter-spacing: -.3px;
}

.reg-tag {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, .75);
  font-weight: 900;
  font-size: 12px;
  color: var(--text);
  white-space: nowrap;
}

.reg-card p {
  margin: 10px 0 0;
}

.reg-actions {
  margin-top: 14px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* Buat kartu lebih ringkas di mobile */
@media (max-width: 900px) {
  .reg-head h3 {
    font-size: 18px;
  }

  .reg-tag {
    padding: 7px 9px;
  }

  .reg-card {
    padding: 18px !important;
  }

  .reg-card .btn {
    width: 100%;
  }
}

/* ==============================
   Tombol / Link – rapih & konsisten
   ============================== */
.btn,
.btn:visited {
  /* Pastikan teks tombol selalu terbaca.
     Sebelumnya memakai `inherit` dan pada beberapa konteks (mis. .btn.primary)
     menyebabkan teks menjadi putih di atas background terang (terlihat "hilang" di mobile). */
  color: var(--text);
  text-decoration: none;
}

.btn.primary {
  /* Varian class yang dipakai di HTML: `class="btn primary"`.
     Samakan perilaku dengan `.btn-primary` (yang sudah ada) agar tidak terjadi
     teks putih di atas background terang. */
  border: none;
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  color: #fff;
  box-shadow: var(--shadow-glow);
}

.btn.soft {
  /* Varian class yang dipakai di HTML: `class="btn soft"`.
     Samakan perilaku dengan `.btn-soft` (yang sudah ada). */
  border: 1px solid color-mix(in srgb, var(--primary) 18%, var(--border));
  background:
    radial-gradient(380px 160px at 20% 0%, rgba(37, 99, 235, .16), transparent 60%),
    color-mix(in srgb, var(--surface-solid) 78%, transparent);
  color: var(--text);
}

/* Khusus CTA hero: pastikan varian tombol tidak tertimpa oleh aturan `hero-cta a` */
.hero-cta a.btn.primary {
  border: none;
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  color: #fff;
  box-shadow: var(--shadow-glow);
}

.hero-cta a.btn.soft {
  border: 1px solid color-mix(in srgb, var(--primary) 18%, var(--border));
  background:
    radial-gradient(380px 160px at 20% 0%, rgba(37, 99, 235, .16), transparent 60%),
    color-mix(in srgb, var(--surface-solid) 78%, transparent);
  color: var(--text);
}

.btn:focus {
  outline: none;
}

.btn:focus-visible {
  box-shadow: 0 0 0 4px rgba(46, 98, 241, .20), var(--shadow);
}

/* Hilangkan underline yang muncul pada beberapa browser ketika <a> ada di dalam chip */
.chip a,
.hero-cta a,
.nav-btn,
.brand {
  text-decoration: none;
}

/* Input jangan terlalu tebal */
input,
textarea {
  font-weight: 500;
}


@media (max-width: 560px) {
  .brand {
    min-width: 0;
  }

  .nav-actions {
    flex-wrap: wrap;
    justify-content: flex-end;
    gap: 8px;
  }

  .nav-inner {
    padding: 10px 10px;
  }
}


/* ===== Teacher profile typography polish ===== */
.teacher-profile .tp-body {
  padding: 10px 6px;
  /* lebih lega dari 6px 4px */
}

.tp-kicker {
  font-size: 11px;
  /* lebih “label” */
  font-weight: 800;
  letter-spacing: .14em;
  /* lebih premium */
  text-transform: uppercase;
  color: rgba(59, 130, 246, .95);
  margin-bottom: 6px;
}

.tp-name {
  font-size: clamp(20px, 2.1vw, 26px);
  font-weight: 950;
  /* tetap kuat tapi rapi */
  letter-spacing: -0.02em;
  line-height: 1.15;
  margin: 0;
  /* rapikan spacing */
}

.tp-meta {
  margin-top: 8px;
  font-size: 13px;
  font-weight: 650;
  /* jangan terlalu tebal */
  line-height: 1.45;
  color: color-mix(in srgb, var(--muted) 92%, var(--text));
}

.tp-desc {
  margin-top: 10px;
  font-size: 13px;
  font-weight: 600;
  line-height: 1.6;
  /* bikin paragraf enak dibaca */
  color: var(--muted);
  max-width: 52ch;
  /* biar tidak “melebar liar” */
}

.tp-desc b {
  font-weight: 800;
}

.tp-desc code {
  font-size: 12px;
  padding: 2px 6px;
  border-radius: 10px;
  background: rgba(255, 255, 255, .55);
  border: 1px solid rgba(12, 20, 40, .08);
}

.tp-actions {
  margin-top: 14px;
  gap: 10px;
}

.tp-actions .btn {
  min-width: 150px;
  /* tombol terlihat konsisten */
  justify-content: center;
}


/* ==============================
   Mobile polish: Registrasi & Pengajar (premium)
   ============================== */
@media (max-width: 560px) {

  /* ---------- REGISTRATION CARD (Daftar jadi Pengajar) ---------- */
  .reg-card {
    padding: 18px !important;
    /* rapikan spacing di mobile */
    border-radius: 22px;
    background: linear-gradient(180deg,
        rgba(255, 255, 255, .78),
        rgba(255, 255, 255, .60));
    border: 1px solid rgba(15, 23, 42, .08);
    box-shadow:
      0 14px 34px rgba(15, 23, 42, .08),
      inset 0 1px 0 rgba(255, 255, 255, .65);
  }

  /* Head jadi bertumpuk biar tidak “mekar” ke samping */
  .reg-card .reg-head {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
    margin-bottom: 10px;
  }

  .reg-card .reg-title {
    font-size: 18px;
    line-height: 1.2;
    letter-spacing: -0.02em;
  }

  .reg-card .reg-pill {
    padding: 7px 12px;
    font-size: 12px;
    font-weight: 900;
    background: rgba(59, 130, 246, .10);
    border: 1px solid rgba(59, 130, 246, .22);
    color: rgba(30, 64, 175, .95);
  }

  .reg-card .reg-desc {
    font-size: 13px;
    line-height: 1.6;
    margin-bottom: 14px;
    color: color-mix(in srgb, var(--muted) 92%, var(--text));
  }

  /* Tombol dibuat full biar premium & mudah dipencet */
  .reg-card .btn {
    width: 100%;
    justify-content: center;
    padding: 12px 14px;
    border-radius: 16px;
  }

  /* ---------- TEACHER PROFILE CARD (Pengajar) ---------- */
  .teacher-profile {
    grid-template-columns: 1fr;
    /* sudah ada, kita rapikan spacing */
    gap: 14px;
  }

  .teacher-profile .tp-media {
    min-height: 200px;
    /* sedikit lebih “hero” */
    border-radius: 22px;
  }

  .teacher-profile .tp-body {
    padding: 4px 2px 2px;
  }

  .tp-kicker {
    font-size: 11px;
    letter-spacing: .16em;
    margin-bottom: 6px;
  }

  .tp-name {
    font-size: 22px;
    line-height: 1.15;
    letter-spacing: -0.02em;
    margin-top: 0;
  }

  /* Meta jadi badge kecil (lebih rapi dari teks biasa) */
  .tp-meta {
    display: inline-flex;
    width: fit-content;
    padding: 6px 12px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 850;
    margin-top: 10px;
    background: rgba(59, 130, 246, .10);
    border: 1px solid rgba(59, 130, 246, .18);
    color: rgba(30, 64, 175, .95);
  }

  /* Deskripsi jadi “kotak” halus seperti di contoh premium */
  .tp-desc {
    margin-top: 12px;
    padding: 12px 14px;
    border-radius: 18px;
    background: rgba(255, 255, 255, .55);
    border: 1px solid rgba(15, 23, 42, .08);
    font-size: 13px;
    line-height: 1.65;
  }

  .tp-desc code {
    padding: 2px 7px;
    border-radius: 999px;
    background: rgba(255, 255, 255, .75);
    border: 1px solid rgba(15, 23, 42, .10);
    font-size: 12px;
  }

  /* Tombol Pengajar jadi 2 kolom biar simetris & premium */
  .tp-actions {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-top: 14px;
  }

  .tp-actions .btn {
    width: 100%;
    justify-content: center;
    padding: 12px 12px;
    border-radius: 16px;
  }
}

/* layar super kecil: tombol jadi 1 kolom */
@media (max-width: 380px) {
  .tp-actions {
    grid-template-columns: 1fr;
  }
}


.hero-cta {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px;
}

[data-route="focus"] {
  display: none !important;
}


/* ===== FIX: Pengaturan (mobile) agar panel tidak sempit ===== */
@media (max-width: 560px) {

  /* Khusus halaman Pengaturan: ubah grid 2 kolom jadi 1 kolom agar tiap panel melebar */
  .route[data-route="settings"] .grid-2 {
    grid-template-columns: 1fr;
  }
}


/* ===== FIX: Pengaturan (mobile) agar panel tidak sempit ===== */
@media (max-width: 560px) {

  /* Khusus halaman Pengaturan: ubah grid 2 kolom jadi 1 kolom agar tiap panel melebar */
  .route[data-route="settings"] .grid-2 {
    grid-template-columns: 1fr;
  }
}


/* --- PATCH: kotak untuk bagian info profil pengajar (tanpa mengubah struktur HTML) --- */
.teacher-profile .tp-info-box {
  /* fallback untuk markup yang memakai .tp-info-box (bukan .tp-body) */
  padding: 14px 14px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 92%, rgba(59, 130, 246, .08));
  box-shadow: var(--shadow-xs, 0 1px 0 rgba(17, 24, 39, .05));
}

/* buat teks meta jadi “kotak/pill” seperti di screenshot */
.teacher-profile .tp-meta {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  margin-top: 10px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--border) 70%, rgba(59, 130, 246, .35));
  background: color-mix(in srgb, rgba(59, 130, 246, .10) 60%, var(--surface));
  color: color-mix(in srgb, var(--text, #111827) 65%, rgba(59, 130, 246, .75));
  font-weight: 800;
}



/* PATCH: 3 tombol promo selalu sejajar (tidak turun ke bawah) */
.promo-card .promo-actions {
  flex-wrap: nowrap;
  /* kunci: jangan wrap */
  overflow-x: auto;
  /* kalau sempit, geser ke samping */
  -webkit-overflow-scrolling: touch;
  align-items: center;
  gap: 10px;
  padding-bottom: 2px;
  /* biar scroll tidak “nabrak” */
}

/* tombol jangan pecah kata & jangan mengecil aneh */
.promo-card .promo-actions .btn {
  flex: 0 0 auto;
  white-space: nowrap;
}

/* sedikit diperkecil di layar kecil supaya makin muat */
@media (max-width: 420px) {
  .promo-card .promo-actions .btn {
    padding: 9px 12px;
    font-size: 13px;
    border-radius: 14px;
  }
}

/* opsional: scrollbar lebih halus (tidak menghilangkan fungsi) */
.promo-card .promo-actions::-webkit-scrollbar {
  height: 6px;
}

.promo-card .promo-actions::-webkit-scrollbar-thumb {
  background: rgba(15, 23, 42, .18);
  border-radius: 999px;
}



/* =========================================
   PATCH: Navbar ke bawah (MOBILE ONLY)
   Desktop tetap seperti semula
========================================= */

/* default: TIDAK DIUBAH (desktop aman) */
header,
.navbar,
.top-nav {
  position: relative;
}

/* MOBILE ONLY */
@media (max-width: 768px) {

  /* beri ruang agar konten tidak ketutup navbar bawah */
  body {
    padding-bottom: 84px;
  }

  /* pindahkan navbar ke bawah */
  header,
  .navbar,
  .top-nav {
    position: fixed;
    top: auto;
    bottom: 12px;
    left: 12px;
    right: 12px;

    z-index: 999;
    border-radius: 20px;
    box-shadow: 0 12px 28px rgba(0, 0, 0, .14);
  }

  /* rapikan isi navbar */
  header .nav-inner,
  .navbar .nav-inner,
  .top-nav .nav-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  /* icon & tombol jangan mengecil */
  header button,
  .navbar button,
  .top-nav button {
    flex-shrink: 0;
  }
}

/* =========================================
   PATCH: Teks "NUQTHAH LEARN" di atas (Mobile)
   HANYA TEKS, tanpa kotak
   Desktop tidak berubah
========================================= */

@media (max-width: 768px) {

  /* beri ruang atas untuk teks */
  body {
    padding-top: 44px;
  }

  /* teks brand di atas seperti WhatsApp */
  body::before {
    content: "Nuqthah Learning Center";
    position: fixed;
    top: 10px;
    left: 16px;

    z-index: 1001;

    font-weight: 900;
    font-size: 16px;
    letter-spacing: .4px;
    color: #0f172a;

    background: none;
    box-shadow: none;
    pointer-events: none;
  }

  /* hilangkan teks brand di navbar bawah (jika ada) */
  header .nav-brand span,
  .navbar .nav-brand span,
  .top-nav .nav-brand span,
  header .brand span,
  .navbar .brand span,
  .top-nav .brand span {
    display: none;
  }
}

/* ===== PATCH: rapikan jarak bar pencarian Home (mobile) =====
   - bar pencarian terlalu turun karena ada body padding-top + route padding-top
   - patch ini hanya menambah override CSS (tanpa mengubah/menghapus struktur)
*/
@media (max-width: 560px) {

  /* page-shell sudah punya padding untuk top-nav, jadi body padding-top tidak perlu di layar kecil */
  body {
    padding-top: 0;
  }

  /* khusus Home: hilangkan extra padding atas agar search naik ke area yang ditandai */
  .route[data-route="home"] {
    padding-top: 0 !important;
  }

  /* rapatkan jarak search dari atas */
  .route[data-route="home"] .home-global-search {
    padding: 4px 0 2px;
  }
}


/* =========================================
   MOBILE HOME SEARCH — WHATSAPP STYLE
   TANPA MERUBAH STRUKTUR
========================================= */
@media (max-width: 768px) {

  /* jadikan hero sebagai anchor */
  #route-home .hero-wrap {
    position: relative;
    padding-top: 0;
  }

  /* SEARCH BAR: NAIKKAN KE BAWAH LOGO */
  #route-home .home-global-search {
    position: relative;
    margin-top: -38px;
    /* 🔥 KUNCI UTAMA */
    margin-bottom: 14px;
    z-index: 5;
  }

  /* kecilkan padding card agar rapat */
  #route-home .hero-card {
    padding-top: 12px;
  }
}


/* =====================================
   HOME PROMO SLIDER (MOBILE ONLY)
===================================== */
.home-promo-slider {
  display: none;
  margin-top: 8px;
  margin-bottom: 14px;
}

@media (max-width: 768px) {
  .home-promo-slider {
    display: block;
  }
}

.promo-track {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;

  padding: 8px 0 12px;
  scroll-padding: 0 12px;
}

.promo-track::-webkit-scrollbar {
  display: none;
}

.promo-slide {
  flex: 0 0 88%;
  scroll-snap-align: center;
  border-radius: 22px;
  overflow: hidden;
  box-shadow: none;
  border: none;
  background: transparent;
}

.promo-slide img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  display: block;
}

/* dots */
.promo-dots {
  display: flex;
  justify-content: center;
  gap: 6px;
  margin-top: 8px;
}

.promo-dots span {
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: var(--muted);
  opacity: .35;
}

.promo-dots span.active {
  width: 18px;
  opacity: 1;
  background: var(--primary);
}


/* FIX: hilangkan warna transparan di luar foto promo */
.home-promo-slider {
  background: transparent;
}

.home-promo-slider .container {
  background: transparent;
}

.promo-track {
  background: transparent;
  padding-bottom: 2px;
}

/* ini kuncinya */
.promo-slide {
  background: transparent !important;
}

/* cegah bleed dari hero */
#route-home {
  isolation: isolate;
}

/* =====================================
   HOME PROMO SLIDER — FULL WIDTH
===================================== */
@media (max-width: 768px) {

  /* lepas batas container */
  .home-promo-slider .container {
    width: 100vw;
    max-width: 100vw;
    margin-left: calc(-50vw + 50%);
    margin-right: calc(-50vw + 50%);
    padding-left: 0;
    padding-right: 0;
  }

  /* slider full layar */
  .promo-track {
    gap: 14px;
    padding-left: 14px;
    padding-right: 14px;
  }

  /* slide lebih lebar (edge look) */
  .promo-slide {
    flex: 0 0 92%;
    border-radius: 26px;
  }

  .promo-slide img {
    height: 160px;
  }
}

.promo-slide {
  box-shadow: none;
}


/* =====================================
   HOME BRAND TITLE (BEBAS DARI NAVBAR)
===================================== */
@media (max-width: 768px) {

  .home-brand {
    margin-bottom: 10px;
  }

  .home-brand-title {
    font-size: 14px;
    font-weight: 900;
    letter-spacing: .35px;
    text-transform: uppercase;
    color: color-mix(in srgb, var(--text) 92%, var(--muted));
  }

}



/* === FORCE PROMO SLIDER IMAGE RATIO 16:10 === */
.promo-slide {
  aspect-ratio: 16 / 10;
}

.promo-slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* HILANGKAN HOME BRAND TITLE */
#route-home .home-brand {
  display: none;
}


/* =========================================
   FIX: HOME TOP (judul + global search) TIDAK IKUT SCROLL
   - Mengandalkan home-top-fix.js yang memindahkan .home-global-search
     menjadi direct child #pageShell dan toggle body.home-top-visible
   ========================================= */
@media (max-width: 560px) {
  body.home-top-visible .home-global-search {
    /* pastikan tetap tampil dan menjadi header fixed */
    display: block;
    position: fixed;
    left: 0;
    right: 0;
    /* selaras dengan padding-top .page-shell (mobile) agar tepat di bawah top-nav */
    top: 30px;
    z-index: 1001;
    /* reset aturan lama yang mengangkat search ke hero */
    margin-top: 0 !important;
    margin-bottom: 0 !important;
  }

  /* beri ruang di awal konten Home supaya tidak ketutup header fixed */
  body.home-top-visible #route-home {
    padding-top: 76px;
  }
}




/* MOBILE: judul atas sekarang dari HTML, bukan body::before */
@media (max-width: 768px) {

  /* Matikan judul versi CSS (pseudo-element) */
  body::before {
    content: none !important;
  }

  /* Judul versi HTML */
  .mobile-top-title {
    position: fixed;
    top: 10px;
    left: 16px;
    z-index: 1001;

    font-weight: 900;
    font-size: 16px;
    letter-spacing: .4px;
    color: #0f172a;

    background: none;
    box-shadow: none;
    pointer-events: none;
  }

  /* Ruang atas yang sebelumnya dipakai untuk body::before */
  body {
    padding-top: 20px;
    /* sama seperti patch kamu sebelumnya */
  }
}

/* =========================
   Chapter Picker + Audio (Drive) — Whitelist per Materi
   ========================= */
.chapter-picker {
  width: min(560px, 92%);
  margin: 0 auto;
  display: grid;
  gap: 14px;
  padding: 6px 0 18px;
}

.chapter-btn {
  width: 100%;
  text-align: left;
  padding: 16px 16px;
  border-radius: 18px;
  border: 1px solid rgba(0, 0, 0, .08);
  background: rgba(255, 255, 255, .92);
  color: #111;
  font-weight: 650;
  box-shadow: 0 10px 26px rgba(0, 0, 0, .06);
}

.chapter-btn.is-disabled {
  opacity: .55;
  box-shadow: none;
}

.audio-player {
  width: min(760px, 96%);
  margin: 0 auto;
}

.audio-player iframe {
  width: 100%;
  height: 58vh;
  max-height: 520px;
  border: 0;
  border-radius: 18px;
  background: #111;
}






/* =========================================================
   HOME: fixed search header (hanya home, hanya layar kecil)
   - home-top-fix.js toggle body.home-top-visible :contentReference[oaicite:3]{index=3}
   - search jadi fixed (sebelumnya top: 30px) :contentReference[oaicite:4]{index=4}
   ========================================================= */
@media (max-width: 560px) {

  /* Posisikan search fixed tepat di bawah judul atas */
  body.home-top-visible .home-global-search {
    top: var(--shell-top) !important;
    /* sama dengan --shell-top mobile */
  }

  /* Karena search jadi fixed, HOME perlu tambahan ruang di atas konten
     agar tidak ketutup search */
  body.home-top-visible #route-home {
    padding-top: 84px !important;
    /* ruang ekstra untuk tinggi search */
  }

  /* Pastikan page-shell tidak makin “membengkak” akibat patch lama */
  .page-shell {
    padding-top: 52px !important;
  }
}

/* =========================
   Chapter Picker Modal
   ========================= */
#modalOverlay.mode-chapter-picker .modal-media {
  height: 60vh;
  min-height: 360px;
  padding: 18px 16px;
}

#modalOverlay.mode-chapter-picker #modalPlaceholder {
  display: grid !important;
  place-items: center;
  width: 100%;
  height: 100%;
}

#modalOverlay.mode-chapter-picker #modalFrame,
#modalOverlay.mode-chapter-picker #modalCarousel {
  display: none !important;
}

#modalOverlay.mode-chapter-picker .modal-info,
#modalOverlay.mode-chapter-picker .modal-actions {
  display: none !important;
}

.chapter-picker {
  width: min(520px, 92%);
  display: grid;
  gap: 18px;
  padding: 10px 0;
}

.chapter-btn {
  width: 100%;
  height: 56px;
  border-radius: 999px;
  border: 2px solid rgba(255, 255, 255, .75);
  background: rgba(255, 255, 255, .12);
  color: rgba(255, 255, 255, .92);
  font-weight: 700;
  letter-spacing: .2px;
  text-transform: none;
  box-shadow: 0 12px 30px rgba(0, 0, 0, .14);
}

.chapter-btn:active {
  transform: scale(.99);
}

.chapter-btn.is-locked {
  opacity: .55;
  filter: grayscale(.2);
}

/* Player mode (after choose chapter) — keep clean */
#modalOverlay.mode-chapter-player .modal-info {
  display: none !important;
}

#modalOverlay.mode-chapter-player #modalCarousel {
  display: none !important;
}

#modalOverlay.mode-chapter-player #modalPlaceholder {
  display: none !important;
}

#modalOverlay.mode-chapter-player #modalFrame {
  display: block !important;
  height: 52vh;
  min-height: 320px;
  border-radius: 18px;
}








/* =========================
   FIX: Chapter Picker tampil semua (scrollable)
   + tulisan hitam
   + modal lebih tinggi & lebih “panjang”
   ========================= */

#modalOverlay.mode-chapter-picker .modal-media {
  height: 72vh;
  /* lebih panjang dari 60vh */
  min-height: 420px;
  overflow: auto;
  /* INI KUNCI: supaya list bisa discroll */
  padding: 18px 16px 22px;
}

#modalOverlay.mode-chapter-picker #modalPlaceholder {
  display: block !important;
  /* jangan center grid */
  width: 100%;
  height: auto;
  /* biar ikut konten */
}

/* area list */
.chapter-picker {
  width: min(680px, 92%);
  /* sedikit lebih lebar */
  margin: 0 auto;
  display: grid;
  gap: 12px;
  padding: 6px 0 18px;
}

/* tombol jadi jelas (hitam) */
.chapter-btn {
  height: auto;
  padding: 14px 16px;
  border-radius: 18px;
  /* tidak terlalu “mengotak”, tapi juga tidak pill */
  border: 1px solid rgba(0, 0, 0, .10);
  background: rgba(255, 255, 255, .96);
  color: #111 !important;
  /* hitam */
  box-shadow: 0 10px 26px rgba(0, 0, 0, .08);
  font-weight: 700;
}

.chapter-btn.is-disabled {
  opacity: .55;
  box-shadow: none;
}

/* --- Teacher register form --- */
.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

@media (max-width:720px) {
  .form-grid {
    grid-template-columns: 1fr;
  }
}

.field {
  display: grid;
  gap: 6px;
}

.field>span {
  font-size: 12px;
  font-weight: 850;
  color: var(--muted);
}

.field input,
.field textarea {
  width: 100%;
  padding: 12px 12px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  color: var(--text);
  outline: none;
  box-shadow: var(--shadow-sm);
}

.field textarea {
  resize: vertical;
  min-height: 96px;
}

.field input:focus,
.field textarea:focus {
  border-color: color-mix(in srgb, var(--primary) 34%, var(--border));
  box-shadow: var(--shadow-md), var(--ring);
}








/* =========================================================
   HOME: fixed search header (hanya home, hanya layar kecil)
   - home-top-fix.js toggle body.home-top-visible :contentReference[oaicite:3]{index=3}
   - search jadi fixed (sebelumnya top: 30px) :contentReference[oaicite:4]{index=4}
   ========================================================= */
@media (max-width: 560px) {

  /* Posisikan search fixed tepat di bawah judul atas */
  body.home-top-visible .home-global-search {
    top: var(--shell-top) !important;
    /* sama dengan --shell-top mobile */
  }

  /* Karena search jadi fixed, HOME perlu tambahan ruang di atas konten
     agar tidak ketutup search */
  body.home-top-visible #route-home {
    padding-top: 84px !important;
    /* ruang ekstra untuk tinggi search */
  }

  /* Pastikan page-shell tidak makin “membengkak” akibat patch lama */
  .page-shell {
    padding-top: 52px !important;
  }
}


/* =========================================================
   PREMIUM BACKGROUND — MOBILE TOP TITLE
   "Nuqthah Ling Center"
   ========================================================= */

#mobileTopTitle {
  position: fixed;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1001;

  /* Ukuran & layout */
  padding: 10px 18px;
  border-radius: 999px;

  /* Premium glass background */
  background:
    radial-gradient(120px 40px at 20% 20%,
      rgba(255, 255, 255, .55),
      transparent 60%),
    linear-gradient(135deg,
      rgba(99, 102, 241, .18),
      rgba(37, 99, 235, .22)),
    rgba(255, 255, 255, .75);

  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);

  /* Border & shadow premium */
  border: 1px solid rgba(99, 102, 241, .25);
  box-shadow:
    0 10px 28px rgba(37, 99, 235, .18),
    inset 0 1px 0 rgba(255, 255, 255, .6);

  /* Typography */
  font-size: 14px;
  font-weight: 900;
  letter-spacing: .2px;
  color: #0f172a;

  white-space: nowrap;
}

/* Dark mode tuning */
body.dark #mobileTopTitle {
  background:
    radial-gradient(120px 40px at 20% 20%,
      rgba(255, 255, 255, .12),
      transparent 60%),
    linear-gradient(135deg,
      rgba(99, 102, 241, .22),
      rgba(37, 99, 235, .30)),
    rgba(15, 23, 42, .85);

  border: 1px solid rgba(99, 102, 241, .35);
  color: #e5e7eb;

  box-shadow:
    0 14px 36px rgba(0, 0, 0, .45),
    inset 0 1px 0 rgba(255, 255, 255, .08);
}





/* =========================================================
   MOBILE TOP TITLE — PREMIUM PACK (FINAL)
   - Left aligned
   - Height/feel matches search
   - Icon "N"
   - Shimmer/glow on load
   - Auto-hide support via class .mt-hide (JS)
   ========================================================= */

@media (max-width: 768px) {
  :root {
    --mt-left: 16px;
    --mt-top: 10px;

    /* “feel” selevel search pill */
    --mt-height: 44px;
    --mt-pad-x: 14px;
    --mt-font: 15px;
  }

  /* Base */
  #mobileTopTitle {
    position: fixed !important;
    top: var(--mt-top) !important;
    left: var(--mt-left) !important;
    right: auto !important;
    transform: none !important;
    z-index: 2000 !important;

    display: inline-flex !important;
    align-items: center !important;
    gap: 10px !important;

    height: var(--mt-height) !important;
    padding: 0 var(--mt-pad-x) !important;
    border-radius: 999px !important;

    /* Premium glass */
    background:
      radial-gradient(140px 50px at 18% 20%, rgba(255, 255, 255, .72), transparent 60%),
      linear-gradient(135deg, rgba(99, 102, 241, .22), rgba(37, 99, 235, .22)),
      rgba(255, 255, 255, .78) !important;

    border: 1px solid rgba(99, 102, 241, .28) !important;

    backdrop-filter: blur(14px) !important;
    -webkit-backdrop-filter: blur(14px) !important;

    box-shadow:
      0 14px 38px rgba(37, 99, 235, .18),
      inset 0 1px 0 rgba(255, 255, 255, .65) !important;

    color: #0f172a !important;
    font-weight: 950 !important;
    font-size: var(--mt-font) !important;
    letter-spacing: .25px !important;

    white-space: nowrap !important;

    /* tidak ganggu klik (sesuai intent awal styling kamu) */
    pointer-events: none !important;

    /* animasi muncul/hilang saat scroll */
    transition:
      opacity .22s ease,
      transform .22s ease,
      filter .22s ease !important;
  }

  /* Icon “N” */
  #mobileTopTitle::before {
    content: "N";
    display: grid;
    place-items: center;
    width: 26px;
    height: 26px;
    border-radius: 12px;

    color: #fff;
    font-weight: 1000;
    font-size: 13px;

    background: linear-gradient(135deg, rgba(37, 99, 235, .95), rgba(79, 70, 229, .95));
    box-shadow: 0 14px 34px rgba(37, 99, 235, .22);
    flex: 0 0 auto;
  }

  /* Shimmer overlay */
  #mobileTopTitle::after {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: 999px;
    pointer-events: none;

    background: linear-gradient(110deg,
        transparent 0%,
        rgba(255, 255, 255, .35) 18%,
        transparent 36%);
    transform: translateX(-120%);
    opacity: .85;
    mix-blend-mode: overlay;
    animation: mtShimmer 1.2s ease-out 1;
  }

  @keyframes mtShimmer {
    0% {
      transform: translateX(-120%);
    }

    100% {
      transform: translateX(120%);
    }
  }

  /* Subtle glow pulse once */
  #mobileTopTitle {
    animation: mtGlow .9s ease-out 1;
  }

  @keyframes mtGlow {
    0% {
      filter: saturate(1) brightness(1);
    }

    60% {
      filter: saturate(1.08) brightness(1.04);
    }

    100% {
      filter: saturate(1) brightness(1);
    }
  }

  /* Auto-hide class (ditoggle JS) */
  #mobileTopTitle.mt-hide {
    opacity: 0 !important;
    transform: translateY(-10px) !important;
    filter: blur(1px) !important;
  }

  /* Dark mode */
  body.dark #mobileTopTitle {
    background:
      radial-gradient(140px 50px at 18% 20%, rgba(255, 255, 255, .14), transparent 60%),
      linear-gradient(135deg, rgba(99, 102, 241, .26), rgba(37, 99, 235, .34)),
      rgba(15, 23, 42, .86) !important;

    border: 1px solid rgba(99, 102, 241, .38) !important;

    box-shadow:
      0 18px 48px rgba(0, 0, 0, .45),
      inset 0 1px 0 rgba(255, 255, 255, .08) !important;

    color: #e5e7eb !important;
  }

  body.dark #mobileTopTitle::after {
    opacity: .55;
  }
}





/* =========================================================
   HOME SEARCH — AUTO HIDE (FINAL)
   ========================================================= */

/* Pastikan home search punya transition halus */
@media (max-width: 560px) {
  body.home-top-visible .home-global-search {
    transition: opacity .22s ease, transform .22s ease, filter .22s ease;
    will-change: opacity, transform;
  }

  /* state hide */
  body.home-top-visible .home-global-search.hs-hide {
    opacity: 0 !important;
    transform: translateY(-12px) !important;
    filter: blur(1px) !important;
    pointer-events: none !important;
  }
}



























/* =========================================================
   TOPNAV → CONTENT SPACING (GLOBAL)
   Target: semua halaman punya jarak konsisten antara top-nav dan konten
   (sesuai garis merah pada screenshot). Aman untuk route lain.
   ========================================================= */

/* 1) Satu sumber kebenaran untuk offset atas */
:root {
  /* posisi top-nav (fixed) */
  --nav-top: 16px;

  /* tinggi top-nav (perkiraan aman; dipakai untuk menghitung padding konten) */
  --nav-height: 64px;

  /* jarak ekstra antara top-nav dan konten */
  --shell-gap: 12px;

  /* offset konten dari atas */
  --shell-top: calc(var(--nav-top) + var(--nav-height) + var(--shell-gap));

  /* sticky header (Explore/News/Market dll) ikut offset yang sama */
  --explore-sticky-top: var(--shell-top);
}

@media (max-width: 768px) {
  :root {
    --nav-top: 10px;
    --nav-height: 64px;
    --shell-gap: 12px;
    --shell-top: calc(var(--nav-top) + var(--nav-height) + var(--shell-gap));
    --explore-sticky-top: var(--shell-top);
  }
}

/* 2) Pastikan top-nav mengikuti variabel (tanpa merusak layout lain) */
.top-nav {
  top: var(--nav-top) !important;
}

/* 3) Page shell adalah satu-satunya yang mengatur jarak konten dari atas */
#pageShell,
.page-shell {
  padding-top: var(--shell-top) !important;
}

/* 4) Hilangkan patch lama yang menambah jarak tambahan di body/route */
body {
  padding-top: 0 !important;
}

.route {
  padding-top: 0 !important;
}

/* 5) Home: search fixed harus ikut offset baru (agar tidak nabrak top-nav) */
@media (max-width: 560px) {
  body.home-top-visible .home-global-search {
    top: var(--shell-top) !important;
  }
}

/* =========================================================
   MOBILE: navbar pindah ke bawah, jadi offset atas seharusnya kecil
   - Kita kasih ruang hanya untuk judul atas (.mobile-top-title)
   ========================================================= */
@media (max-width: 768px) {
  :root {
    --shell-top: 52px;
    /* cukup untuk judul atas */
    --explore-sticky-top: 52px;
    /* sticky Explore ikut judul atas */
  }

  /* pastikan judul atas tidak bikin ruang dobel */
  body {
    padding-top: 0 !important;
  }

  /* Explore sticky: sebelumnya masih 92/78 (terlihat turun jauh),
     sekarang jadi pas di bawah judul atas */
  .explore-sticky {
    top: var(--explore-sticky-top) !important;
  }
}






/* =========================
   Chapter Picker – Text Visibility
   ========================= */
#modalOverlay.mode-chapter-picker .chapter-btn {
  color: #111 !important;
  /* teks hitam */
  font-weight: 600;
  letter-spacing: .2px;
}

#modalOverlay.mode-chapter-picker .chapter-btn span,
#modalOverlay.mode-chapter-picker .chapter-btn div {
  color: #111 !important;
}

/* kalau ada disabled */
#modalOverlay.mode-chapter-picker .chapter-btn.is-disabled {
  color: #999 !important;
}



#modalOverlay.mode-chapter-picker .chapter-btn {
  background: rgba(255, 255, 255, .9);
  border: 1px solid rgba(0, 0, 0, .06);
  box-shadow: 0 6px 18px rgba(0, 0, 0, .06);
}

/* =========================
   Chapter Picker – Modal Shape
   ========================= */

/* modal keseluruhan */
#modalOverlay.mode-chapter-picker .modal {
  max-height: 88vh;
  /* lebih tinggi */
  border-radius: 26px;
  /* lebih lembut */
}

/* area isi (yang berisi tombol pelajaran) */
#modalOverlay.mode-chapter-picker .modal-media {
  height: 72vh;
  /* sebelumnya ±60vh */
  border-radius: 22px;
  padding: 20px 12px;
}

/* container list pelajaran */
#modalOverlay.mode-chapter-picker .chapter-picker {
  gap: 16px;
}

/* =========================
   FIX: Chapter picker bisa scroll
   ========================= */
#modalOverlay.mode-chapter-picker .modal-media {
  overflow-y: auto;
  /* biar list bisa digeser */
  -webkit-overflow-scrolling: touch;
}

#modalOverlay.mode-chapter-picker #modalPlaceholder {
  height: 100%;
  overflow-y: auto;
  /* double-safe */
  align-content: start;
  /* mulai dari atas, bukan center */
  padding-top: 10px;
  padding-bottom: 10px;
}

/* biar tombol tidak terlalu “makan” tempat kalau list panjang */
#modalOverlay.mode-chapter-picker .chapter-picker {
  width: min(520px, 92%);
  gap: 14px;
  /* sebelumnya 18px */
  padding: 6px 0 18px;
}










/* =========================================================
   HOME: fixed search header (hanya home, hanya layar kecil)
   - home-top-fix.js toggle body.home-top-visible :contentReference[oaicite:3]{index=3}
   - search jadi fixed (sebelumnya top: 30px) :contentReference[oaicite:4]{index=4}
   ========================================================= */
@media (max-width: 560px) {

  /* Posisikan search fixed tepat di bawah judul atas */
  body.home-top-visible .home-global-search {
    top: var(--shell-top) !important;
    /* sama dengan --shell-top mobile */
  }

  /* Karena search jadi fixed, HOME perlu tambahan ruang di atas konten
     agar tidak ketutup search */
  body.home-top-visible #route-home {
    padding-top: 84px !important;
    /* ruang ekstra untuk tinggi search */
  }

  /* Pastikan page-shell tidak makin “membengkak” akibat patch lama */
  .page-shell {
    padding-top: 52px !important;
  }
}

/* =========================
   Chapter Picker Modal
   ========================= */
#modalOverlay.mode-chapter-picker .modal-media {
  height: 60vh;
  min-height: 360px;
  padding: 18px 16px;
}

#modalOverlay.mode-chapter-picker #modalPlaceholder {
  display: grid !important;
  place-items: center;
  width: 100%;
  height: 100%;
}

#modalOverlay.mode-chapter-picker #modalFrame,
#modalOverlay.mode-chapter-picker #modalCarousel {
  display: none !important;
}

#modalOverlay.mode-chapter-picker .modal-info,
#modalOverlay.mode-chapter-picker .modal-actions {
  display: none !important;
}

.chapter-picker {
  width: min(520px, 92%);
  display: grid;
  gap: 18px;
  padding: 10px 0;
}

.chapter-btn {
  width: 100%;
  height: 56px;
  border-radius: 999px;
  border: 2px solid rgba(255, 255, 255, .75);
  background: rgba(255, 255, 255, .12);
  color: rgba(255, 255, 255, .92);
  font-weight: 700;
  letter-spacing: .2px;
  text-transform: none;
  box-shadow: 0 12px 30px rgba(0, 0, 0, .14);
}

.chapter-btn:active {
  transform: scale(.99);
}

.chapter-btn.is-locked {
  opacity: .55;
  filter: grayscale(.2);
}

/* Player mode (after choose chapter) — keep clean */
#modalOverlay.mode-chapter-player .modal-info {
  display: none !important;
}

#modalOverlay.mode-chapter-player #modalCarousel {
  display: none !important;
}

#modalOverlay.mode-chapter-player #modalPlaceholder {
  display: none !important;
}

#modalOverlay.mode-chapter-player #modalFrame {
  display: block !important;
  height: 52vh;
  min-height: 320px;
  border-radius: 18px;
}

/* =========================
   Modal — Teacher Card (replace iframe preview)
   ========================= */
.teacher-card-mini {
  width: 100%;
  height: 100%;
  min-height: 260px;
  display: grid;
  grid-template-columns: 110px 1fr;
  gap: 14px;
  align-items: center;
  padding: 16px;
  border-radius: 22px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 76%, transparent);
  box-shadow: var(--shadow-sm);
}

.teacher-card-mini .tcm-media {
  width: 110px;
  height: 110px;
  border-radius: 24px;
  overflow: hidden;
  position: relative;
  border: 1px solid var(--border);
  background: radial-gradient(520px 220px at 15% 0%, rgba(37, 99, 235, .14), transparent 60%),
    radial-gradient(520px 240px at 90% 10%, rgba(99, 102, 241, .12), transparent 60%),
    color-mix(in srgb, var(--surface-solid) 70%, transparent);
}

.teacher-card-mini .tcm-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.teacher-card-mini .tcm-media.noimg img {
  display: none;
}

.teacher-card-mini .tcm-fallback {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-weight: 1000;
  font-size: 40px;
  color: color-mix(in srgb, var(--text) 86%, var(--muted));
}

.teacher-card-mini .tcm-info {
  display: grid;
  gap: 6px;
}

.teacher-card-mini .tcm-kicker {
  display: inline-flex;
  width: fit-content;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  font-size: 12px;
  font-weight: 950;
  color: color-mix(in srgb, var(--text) 86%, var(--muted));
}

.teacher-card-mini .tcm-name {
  font-size: 18px;
  font-weight: 1000;
  letter-spacing: -.3px;
}

.teacher-card-mini .tcm-bio {
  font-size: 12px;
  font-weight: 850;
  color: var(--muted);
  line-height: 1.45;
}

.teacher-card-mini .tcm-badges {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 2px;
}


/* =========================
   Modal — Teacher Hero (more elegant)
   ========================= */
.teacher-card-mini.tcm-hero {
  position: relative;
  display: block;
  padding: 0;
  min-height: 280px;
  border-radius: 22px;
  overflow: hidden;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  box-shadow: var(--shadow-sm);
}

.teacher-card-mini.tcm-hero .tcm-media {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border-radius: 0;
  border: 0;
  overflow: hidden;
  background: #0b1220;
}

.teacher-card-mini.tcm-hero .tcm-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transform: scale(1.02);
  filter: saturate(1.02) contrast(1.02);
}

.teacher-card-mini.tcm-hero .tcm-fallback {
  color: rgba(255, 255, 255, .85);
  font-size: 54px;
  background:
    radial-gradient(700px 320px at 20% 0%, rgba(255, 255, 255, .12), transparent 55%),
    linear-gradient(135deg, #0b1220, #1f2a44);
}

.teacher-card-mini.tcm-hero .tcm-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 18px;
  gap: 14px;
  background:
    linear-gradient(180deg, rgba(2, 6, 23, .22) 0%, rgba(2, 6, 23, 0) 40%),
    linear-gradient(0deg, rgba(2, 6, 23, .78) 0%, rgba(2, 6, 23, 0) 55%);
}

.teacher-card-mini.tcm-hero .tcm-top {
  display: flex;
  justify-content: flex-start;
}

.teacher-card-mini.tcm-hero .tcm-kicker {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, .18);
  background: rgba(255, 255, 255, .10);
  backdrop-filter: blur(10px);
  color: rgba(255, 255, 255, .92);
  font-weight: 950;
  font-size: 12px;
  letter-spacing: .2px;
}

.teacher-card-mini.tcm-hero .tcm-bottom {
  display: grid;
  gap: 8px;
  max-width: 64ch;
}

.teacher-card-mini.tcm-hero .tcm-name {
  color: #fff;
  font-size: 22px;
  font-weight: 1000;
  letter-spacing: -.35px;
  line-height: 1.12;
  text-shadow: 0 10px 30px rgba(0, 0, 0, .35);
}

.teacher-card-mini.tcm-hero .tcm-bio {
  color: rgba(255, 255, 255, .78);
  font-size: 12px;
  font-weight: 850;
  line-height: 1.5;
  text-shadow: 0 10px 30px rgba(0, 0, 0, .25);
}

.teacher-card-mini.tcm-hero .tcm-badges {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 2px;
}

.teacher-card-mini.tcm-hero .tcm-pill {
  display: inline-flex;
  align-items: center;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, .18);
  background: rgba(255, 255, 255, .10);
  backdrop-filter: blur(10px);
  color: rgba(255, 255, 255, .92);
  font-weight: 950;
  font-size: 12px;
}

.teacher-card-mini.tcm-hero .tcm-pill:first-child {
  background: rgba(34, 197, 94, .14);
  border-color: rgba(34, 197, 94, .22);
}

body.dark .teacher-card-mini.tcm-hero .tcm-overlay {
  background:
    linear-gradient(180deg, rgba(0, 0, 0, .24) 0%, rgba(0, 0, 0, 0) 40%),
    linear-gradient(0deg, rgba(0, 0, 0, .78) 0%, rgba(0, 0, 0, 0) 55%);
}

/* =========================================================
   MODAL PREVIEW (LESSON) — TEACHER HERO (FULL PHOTO)
   - Mengganti iframe jika URL kosong / placeholder (example.com)
   ========================================================= */

#modalPlaceholder.is-teacher-hero {
  padding: 0 !important;
  overflow: hidden !important;
  display: block;
  background: transparent;
}

#modalPlaceholder.is-teacher-hero .modal-teacher-hero {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 240px;
  border-radius: 22px;
  overflow: hidden;
  background: rgba(0, 0, 0, .06);
}

#modalPlaceholder.is-teacher-hero .modal-teacher-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

#modalPlaceholder.is-teacher-hero .modal-teacher-hero.noimg {
  display: grid;
  place-items: center;
}

#modalPlaceholder.is-teacher-hero .modal-teacher-overlay {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 14px 14px 12px;
  color: #fff;
  background: linear-gradient(to top, rgba(0, 0, 0, .65), rgba(0, 0, 0, 0));
}

#modalPlaceholder.is-teacher-hero .modal-teacher-name {
  font-weight: 900;
  font-size: 20px;
  letter-spacing: .2px;
  line-height: 1.1;
  text-shadow: 0 8px 18px rgba(0, 0, 0, .45);
}

#modalPlaceholder.is-teacher-hero .modal-teacher-role {
  margin-top: 6px;
  font-weight: 700;
  font-size: 14px;
  opacity: .95;
  text-shadow: 0 8px 18px rgba(0, 0, 0, .45);
}

@media (max-width:560px) {
  #modalPlaceholder.is-teacher-hero .modal-teacher-hero {
    min-height: 210px;
    border-radius: 20px;
  }

  #modalPlaceholder.is-teacher-hero .modal-teacher-name {
    font-size: 18px;
  }
}

/* =========================
   MASISIR — Nuqthah Learn (V6)
   - SPA routes (hash)
   - Explore sticky header
   - Focus mode
   - News + Marketplace (secondary)
   - Settings: Dark mode + Admin panels
   - Hybrid data (file + localStorage)
========================= */

:root {
  --bg: #f6f7fb;
  --bg2: #eef2ff;
  --surface: rgba(255, 255, 255, .78);
  --surface-strong: rgba(255, 255, 255, .92);
  --surface-solid: #ffffff;

  --text: #0f172a;
  --muted: #64748b;
  --border: rgba(15, 23, 42, .10);

  --primary: #f59e0b;
  --primary2: #f59e0b;
  --accent: #22c55e;
  --danger: #ef4444;

  --shadow-sm: 0 8px 22px rgba(15, 23, 42, .06);
  --shadow-md: 0 18px 60px rgba(15, 23, 42, .12);
  --shadow-xl: 0 34px 120px rgba(15, 23, 42, .16);
  --shadow-glow: 0 20px 60px rgba(37, 99, 235, .22);

  --radius-xl: 28px;
  --radius-lg: 22px;
  --radius-md: 16px;
  --radius-sm: 12px;

  --container: 1120px;
  --ring: 0 0 0 4px rgba(37, 99, 235, .18);
  --blur: 14px;
  --ease: cubic-bezier(.2, .9, .2, 1);
}

body.dark {
  --bg: #050816;
  --bg2: #0b1028;
  --surface: rgba(15, 23, 42, .66);
  --surface-strong: rgba(15, 23, 42, .82);
  --surface-solid: #0b1220;

  --text: #e5e7eb;
  --muted: #a3adc2;
  --border: rgba(255, 255, 255, .10);

  --shadow-sm: 0 10px 26px rgba(0, 0, 0, .28);
  --shadow-md: 0 26px 80px rgba(0, 0, 0, .35);
  --shadow-xl: 0 50px 140px rgba(0, 0, 0, .42);
  --shadow-glow: 0 24px 70px rgba(79, 70, 229, .25);

  --ring: 0 0 0 4px rgba(99, 102, 241, .22);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
}

html,
body {
  width: 100%;
  overflow-x: hidden;
}

body {
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(0, 0, 0, 0.11), transparent 60%),
    radial-gradient(900px 500px at 90% 10%, rgba(0, 0, 0, 0.1), transparent 55%),
    radial-gradient(900px 520px at 40% 110%, rgba(34, 197, 94, .07), transparent 55%),
    linear-gradient(180deg, var(--bg2), var(--bg));
  color: var(--text);
  line-height: 1.55;
  -webkit-tap-highlight-color: transparent;
}

/* Hindari garis bawah default pada link (banyak tombol menggunakan <a>) */
a {
  color: inherit;
  text-decoration: none;
}

a:visited {
  color: inherit;
}


.container {
  width: min(var(--container), calc(100% - 44px));
  margin: 0 auto;
}

.grain {
  pointer-events: none;
  position: fixed;
  inset: 0;
  opacity: .07;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='260' height='260' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
  z-index: 1;
}

.app {
  position: relative;
  z-index: 2;
  min-height: 100dvh;
}

/* ===== Routes ===== */
.route {
  display: none;
  opacity: 0;
  transform: translateY(10px);
  transition: opacity .35s var(--ease), transform .45s var(--ease);
  will-change: opacity, transform;
}

.route.active {
  display: block;
}

.route.enter {
  opacity: 1;
  transform: translateY(0);
}

.route.leave {
  opacity: 0;
  transform: translateY(12px);
}

.page-shell {
  padding-top: 92px;
  padding-bottom: 24px;
}

/* ===== Home Global Search (Mobile only) ===== */
.home-global-search {
  display: none;
  padding: 10px 0 6px;
}

/* =========================================================
   FINAL: Global Search hanya muncul di halaman HOME
   - home-top-fix.js akan toggle class: body.home-top-visible saat #home
   ========================================================= */

/* Default: sembunyikan di semua halaman */
.home-global-search {
  display: none;
}

/* Tampilkan hanya saat route = home (class dipasang oleh home-top-fix.js) */
body.home-top-visible .home-global-search {
  display: block;
}

/* Kunci keras: di halaman selain home, jangan tampilkan sama sekali */
body:not(.home-top-visible) .home-global-search {
  display: none !important;
}


.wa-search {
  position: relative;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 76%, transparent);
  box-shadow: var(--shadow-sm);
  backdrop-filter: blur(var(--blur));
}

.wa-ico {
  opacity: .75;
  font-size: 16px;
  user-select: none;
}

.wa-search input {
  width: 100%;
  border: 0;
  outline: none;
  background: transparent;
  color: var(--text);
  font-size: 14px;
  font-weight: 850;
}

.wa-clear {
  width: 34px;
  height: 34px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  box-shadow: var(--shadow-sm);
  cursor: pointer;
  font-weight: 1100;
  color: color-mix(in srgb, var(--text) 80%, var(--muted));
  display: none;
}

.wa-results {
  margin-top: 10px;
  border: 1px solid var(--border);
  border-radius: 22px;
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-md);
  overflow: hidden;
}

.wa-results .wr-head {
  padding: 12px 14px;
  border-bottom: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.wa-results .wr-head b {
  font-weight: 1000;
  font-size: 13px;
  letter-spacing: -.15px;
}

.wa-results .wr-head span {
  font-size: 11px;
  font-weight: 900;
  color: var(--muted);
}

.wa-results .wr-list {
  padding: 10px;
  display: grid;
  gap: 8px;
}

.wa-results .wr-item {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 72%, transparent);
  border-radius: 16px;
  padding: 10px 12px;
  display: grid;
  gap: 4px;
  cursor: pointer;
  box-shadow: var(--shadow-sm);
}

.wa-results .wr-item:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

.wa-results .wr-item b {
  font-size: 13px;
  font-weight: 1000;
  letter-spacing: -.1px;
}

.wa-results .wr-item small {
  font-size: 11px;
  color: var(--muted);
  font-weight: 850;
  line-height: 1.35;
}

.wa-results .wr-empty {
  padding: 14px;
  color: var(--muted);
  font-weight: 900;
  font-size: 12px;
}


/* ===== Floating Nav ===== */
.top-nav {
  position: fixed;
  top: 16px;
  left: 0;
  right: 0;
  z-index: 999;
  background: transparent;
  border-bottom: none;
  backdrop-filter: none;
}

.top-nav .nav-inner {
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  border: 1px solid var(--border);
  border-radius: 999px;
  box-shadow: var(--shadow-md);
  padding: 12px 14px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.brand {
  display: flex;
  gap: 12px;
  align-items: center;
  min-width: 220px;
  cursor: pointer;
  user-select: none;
}

.brand-mark {
  width: 40px;
  height: 40px;
  border-radius: 16px;
  display: grid;
  place-items: center;
  color: white;
  font-weight: 950;
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  box-shadow: var(--shadow-glow);
  flex-shrink: 0;
  position: relative;
  overflow: hidden;
}

.brand-mark::after {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: 16px;
  background: radial-gradient(70% 70% at 30% 20%, rgba(255, 255, 255, .35), transparent 55%);
  pointer-events: none;
}

.brand-text strong {
  display: block;
  font-size: 14px;
  letter-spacing: .2px;
  font-weight: 950;
  color: var(--text);
}

.brand-text span {
  display: block;
  font-size: 12px;
  color: var(--muted);
  margin-top: 1px;
  font-weight: 750;
}

.nav-actions {
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: flex-end;
  flex-wrap: nowrap;
}

.btn {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 78%, transparent);
  color: var(--text);
  padding: 10px 14px;
  border-radius: 14px;
  font-weight: 850;
  cursor: pointer;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), background .18s var(--ease), border-color .18s var(--ease);
  box-shadow: var(--shadow-sm);
  display: inline-flex;
  align-items: center;
  gap: 8px;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.btn:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.btn:active {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
  filter: brightness(.99);
}

.btn:focus {
  outline: none;
  box-shadow: var(--shadow-sm), var(--ring);
}

.btn:focus:not(:focus-visible) {
  box-shadow: var(--shadow-sm);
}

.btn-primary {
  border: none;
  background: linear-gradient(135deg, #ffffff, #ffffff);
  color: white;
  box-shadow: var(--shadow-glow);
}

/* Tombol putih (khusus: "Kirim Bukti Pembayaran") */
.btn-white {
  border: 1px solid var(--border);
  background: #ffffff;
  color: #0f172a;
  box-shadow: var(--shadow-sm);
}

body.dark .btn-white {
  background: #ffffff;
  color: #0f172a;
}

.btn-soft {
  border: 1px solid color-mix(in srgb, var(--primary) 18%, var(--border));
  background: radial-gradient(380px 160px at 20% 0%, rgba(37, 99, 235, .16), transparent 60%), color-mix(in srgb, var(--surface-solid) 78%, transparent);
}

.btn-icon {
  width: 40px;
  height: 40px;
  padding: 0;
  display: grid;
  place-items: center;
  border-radius: 14px;
}

.kbd {
  font-size: 11px;
  padding: 3px 7px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  color: color-mix(in srgb, var(--text) 82%, var(--muted));
  font-weight: 900;
}

.ico {
  font-size: 16px
}

.lbl {
  font-weight: 900
}

/* ===== Hero + Home ===== */
.hero-wrap {
  padding: 8px 0 10px;
}

.hero {
  display: grid;
  grid-template-columns: 1.25fr .85fr;
  gap: 16px;
  align-items: stretch;
}

.hero-card,
.teacher-card {
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-xl);
  overflow: hidden;
}

.hero-card {
  padding: 22px;
  position: relative;
}

.hero-card::before {
  content: "";
  position: absolute;
  inset: -1px;
  background:
    radial-gradient(900px 380px at 10% 0%, rgba(37, 99, 235, .18), transparent 55%),
    radial-gradient(700px 320px at 90% 20%, rgba(99, 102, 241, .14), transparent 60%),
    radial-gradient(700px 280px at 50% 120%, rgba(34, 197, 94, .10), transparent 55%);
  pointer-events: none;
  opacity: .95;
}

.hero-top {
  position: relative;
  display: flex;
  flex-direction: column;
  /* tombol turun ke bawah tulisan */
  align-items: stretch;
  gap: 14px;
}

.hero-title h1 {
  font-size: clamp(28px, 4.2vw, 46px);
  font-weight: 900;
  letter-spacing: -.8px;
  line-height: 1.06;
}

.hero-title p {
  margin-top: 8px;
  color: var(--muted);
  font-size: 14px;
  max-width: 62ch;
  font-weight: 750;
}

.pill {
  position: relative;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  color: color-mix(in srgb, var(--text) 90%, var(--muted));
  font-size: 12px;
  font-weight: 950;
  white-space: nowrap;
  box-shadow: var(--shadow-sm);
}

.home-actions {
  position: relative;
  margin-top: 16px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

.quick-filter {
  position: relative;
  margin-top: 16px;
  border: 1px solid var(--border);
  border-radius: 22px;
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  box-shadow: var(--shadow-sm);
  padding: 14px;
}

.qf-head h3 {
  font-size: 15px;
  font-weight: 1000;
  letter-spacing: -.2px;
}

.qf-head p {
  margin-top: 4px;
  color: var(--muted);
  font-weight: 800;
  font-size: 12px;
}

.mini-row {
  margin-top: 10px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

.chip {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  border-radius: 999px;
  padding: 8px 10px;
  font-size: 12px;
  font-weight: 900;
  color: color-mix(in srgb, var(--text) 90%, var(--muted));
  cursor: pointer;
  transition: transform .16s var(--ease), box-shadow .16s var(--ease), background .16s var(--ease), border-color .16s var(--ease);
  box-shadow: var(--shadow-sm);
  -webkit-tap-highlight-color: transparent;
}

.chip:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.chip:active {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}

.chip.is-active,
.chip.active {
  border-color: color-mix(in srgb, var(--primary) 35%, var(--border));
  background: radial-gradient(260px 120px at 20% 0%, rgba(37, 99, 235, .18), transparent 60%), color-mix(in srgb, #f4a417 70%, transparent) !important;
  color: var(--text);
}

.teacher-card {
  display: grid;
  grid-template-columns: 1.25fr 1fr;
  min-height: 320px;
}

.teacher-media {
  position: relative;
  background: #0b1220;
}

.teacher-media img {
  width: 100%;
  height: 100%;
  min-height: 320px;
  object-fit: cover;
  display: block;
  filter: saturate(1.02) contrast(1.02);
  transform: scale(1.01);
}

.teacher-media.noimg .teacher-fallback {
  display: block;
}

.teacher-fallback {
  display: none;
  position: absolute;
  inset: 0;
  background:
    radial-gradient(800px 360px at 30% 20%, rgba(255, 255, 255, .14), transparent 55%),
    linear-gradient(135deg, #0b1220, #1f2a44);
}

.teacher-media::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(700px 300px at 30% 20%, rgba(255, 255, 255, .12), transparent 55%), linear-gradient(to right, rgba(0, 0, 0, .10), rgba(0, 0, 0, .35));
  pointer-events: none;
}

.teacher-content {
  padding: 22px;
  display: grid;
  align-content: center;
  gap: 10px;
}

.kicker {
  display: inline-flex;
  width: fit-content;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 72%, transparent);
  font-size: 12px;
  font-weight: 950;
  color: color-mix(in srgb, var(--text) 88%, var(--muted));
  box-shadow: var(--shadow-sm);
}

.teacher-content h2 {
  font-size: 24px;
  font-weight: 1000;
  letter-spacing: -.6px;
  line-height: 1.1;
}

.teacher-content p {
  color: var(--muted);
  font-size: 14px;
  font-weight: 800;
}

.tlist {
  list-style: none;
  display: grid;
  gap: 8px;
  margin-top: 4px;
}

.tlist li {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  border-radius: 16px;
  padding: 10px 12px;
  box-shadow: var(--shadow-sm);
  font-weight: 850;
  color: color-mix(in srgb, var(--text) 86%, var(--muted));
}

.teacher-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 6px;
}

.note {
  font-size: 12px;
  font-weight: 850;
  color: color-mix(in srgb, var(--muted) 92%, var(--text));
}

.section {
  padding: 18px 0 26px;
}

.section-title {
  font-size: 18px;
  font-weight: 1000;
  letter-spacing: -.3px;
  margin-bottom: 0.1px;
}

.section-sub {
  color: var(--muted);
  font-weight: 850;
  font-size: 12px;
  margin-top: 20px;
}

.section-title-row {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 14px;
  margin-bottom: 5px;
}

.hint-foot {
  margin-top: 14px;
  color: var(--muted);
  font-weight: 850;
  font-size: 12px;
}

.foot {
  padding: 16px 0 28px;
  font-size: 13px;
  color: color-mix(in srgb, var(--muted) 92%, var(--text));
  text-align: center;
}

.foot.subtle {
  opacity: .9
}

.grid-2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.panel {
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-md);
  overflow: hidden;
}

.panel-hd {
  padding: 14px;
  border-bottom: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.panel-hd strong {
  font-size: 13px;
  font-weight: 1000;
  letter-spacing: -.2px;
}

.panel-hd .small {
  font-size: 11px;
  font-weight: 900;
  color: color-mix(in srgb, var(--text) 78%, var(--muted));
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  padding: 6px 10px;
  border-radius: 999px;
}

.panel-bd {
  padding: 14px;
  display: grid;
  gap: 12px;
}

.promo p {
  color: var(--muted);
  font-weight: 800;
  font-size: 13px;
}

.muted {
  color: var(--muted);
  font-weight: 850;
  font-size: 12px;
}

/* ===== Explore Sticky header ===== */
.explore-sticky {
  position: sticky;
  top: 92px;
  /* matches page-shell padding + nav */
  z-index: 20;
  padding: 12px 0 10px;
  background: linear-gradient(180deg, color-mix(in srgb, var(--bg) 0%, transparent), transparent);
  backdrop-filter: blur(var(--blur));
  border-bottom: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
}

.toolbar {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  align-items: center;
  margin: 12px 0 10px;
}

.search {
  position: relative;
}

.search input {
  width: 100%;
  padding: 14px 44px 14px 42px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  box-shadow: var(--shadow-sm);
  color: var(--text);
  font-size: 14px;
  font-weight: 800;
  outline: none;
  transition: box-shadow .2s var(--ease), border-color .2s var(--ease), background .2s var(--ease);
}

.search input:focus {
  box-shadow: var(--shadow-sm), var(--ring);
  border-color: color-mix(in srgb, var(--primary) 30%, var(--border));
  background: color-mix(in srgb, var(--surface-solid) 84%, transparent);
}

.search .icon {
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  opacity: .75;
  font-size: 16px;
  user-select: none;
}

.search .clear {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 34px;
  height: 34px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  cursor: pointer;
  font-weight: 1000;
  color: color-mix(in srgb, var(--text) 80%, var(--muted));
  display: none;
  box-shadow: var(--shadow-sm);
}

.search.small input {
  padding: 12px 14px 12px 38px;
  border-radius: 16px;
}

.toolbar-right {
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  flex-wrap: wrap;
}

.card-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
}

.class-card {
  position: relative;
  border: 1px solid var(--border);
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  padding: 18px;
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-sm);
  cursor: pointer;
  overflow: hidden;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), border-color .18s var(--ease);
  outline: none;
}

.class-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: color-mix(in srgb, var(--primary) 20%, var(--border));
}

.class-card:focus {
  box-shadow: var(--shadow-md), var(--ring);
}

.class-card h3 {
  font-size: 16px;
  font-weight: 1000;
  letter-spacing: -.25px;
  margin-bottom: 6px;
  position: relative;
  z-index: 2;
  color: var(--text);
}

.class-card p {
  font-size: 13px;
  color: var(--muted);
  font-weight: 800;
  position: relative;
  z-index: 2;
  max-width: 36ch;
}

.meta {
  margin-top: 12px;
  display: inline-flex;
  gap: 8px;
  align-items: center;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  color: color-mix(in srgb, var(--text) 85%, var(--muted));
  font-size: 12px;
  font-weight: 900;
  position: relative;
  z-index: 2;
  box-shadow: var(--shadow-sm);
}

.badge {
  position: absolute;
  top: 14px;
  right: 14px;
  font-size: 11px;
  font-weight: 1000;
  letter-spacing: .4px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, .18);
  color: white;
  z-index: 2;
}

.badge.new {
  background: linear-gradient(135deg, rgba(37, 99, 235, .95), rgba(79, 70, 229, .95));
}

.badge.popular {
  background: linear-gradient(135deg, rgba(244, 63, 94, .95), rgba(245, 158, 11, .95));
}

.badge.premium {
  background: linear-gradient(135deg, rgba(245, 158, 11, .95), rgba(249, 115, 22, .95));
  box-shadow: 0 18px 55px rgba(245, 158, 11, .22);
}

.class-card.elite {
  background: linear-gradient(135deg, #0b1220, #1f2a44);
  border: 1px solid rgba(255, 255, 255, .10);
  color: white;
  box-shadow: 0 26px 90px rgba(2, 6, 23, .35);
}

.class-card.elite h3 {
  color: white;
}

.class-card.elite p {
  color: rgba(255, 255, 255, .75);
}

.class-card.elite .meta {
  background: rgba(255, 255, 255, .08);
  border: 1px solid rgba(255, 255, 255, .14);
  color: rgba(255, 255, 255, .88);
}

/* ===== Learn ===== */
.learn-head {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  gap: 12px;
  margin-bottom: 12px;
  flex-wrap: wrap;
}

.learn-head h2 {
  font-size: 18px;
  font-weight: 1000;
  letter-spacing: -.25px;
}

.learn-head p {
  font-size: 12px;
  font-weight: 800;
  color: var(--muted);
  margin-top: 3px;
}

.learn-tools {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.progress-mini {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.progress-mini b {
  font-weight: 1000;
}

.bar {
  flex: 1 1 220px;
  height: 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}

.bar>i {
  display: block;
  height: 100%;
  width: 0%;
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  border-radius: 999px;
  box-shadow: 0 18px 55px rgba(37, 99, 235, .22);
  transition: width .35s var(--ease);
}

.learn-layout {
  display: grid;
  grid-template-columns: 330px 1fr;
  gap: 14px;
  align-items: start;
}

.lesson-list {
  padding: 10px;
  display: grid;
  gap: 10px;
  max-height: calc(100dvh - 260px);
  overflow: auto;
  overscroll-behavior: contain;
}

.lesson-item {
  border: 1px solid var(--border);
  border-radius: 18px;
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  box-shadow: var(--shadow-sm);
  padding: 12px;
  cursor: pointer;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), border-color .18s var(--ease);
  display: grid;
  gap: 6px;
  outline: none;
}

.lesson-item:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
  border-color: color-mix(in srgb, var(--primary) 22%, var(--border));
}

.lesson-item.active {
  border-color: color-mix(in srgb, var(--primary) 34%, var(--border));
  box-shadow: var(--shadow-md), var(--ring);
}

.lesson-item b {
  font-size: 13px;
  font-weight: 1000;
  letter-spacing: -.1px;
  color: var(--text);
}

.lesson-item small {
  font-size: 11px;
  color: var(--muted);
  font-weight: 850;
  line-height: 1.45;
}

.viewer {
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-md);
  overflow: hidden;
  position: relative;
  min-height: 420px;
}

.viewer-hd {
  padding: 14px;
  border-bottom: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
}

.viewer-hd .title {
  display: grid;
  gap: 2px;
}

.viewer-hd .title strong {
  font-size: 13px;
  font-weight: 1000;
  letter-spacing: -.2px;
  color: var(--text);
}

.viewer-hd .title span {
  font-size: 11px;
  color: var(--muted);
  font-weight: 850;
}

.viewer-body {
  position: relative;
  min-height: 380px;
  background:
    radial-gradient(900px 420px at 10% 0%, rgba(37, 99, 235, .10), transparent 60%),
    radial-gradient(900px 420px at 90% 10%, rgba(99, 102, 241, .08), transparent 60%),
    color-mix(in srgb, var(--surface-solid) 62%, transparent);
}

.viewer-body iframe {
  width: 100%;
  height: 420px;
  border: 0;
  display: block;
  background: transparent;
}

.viewer-empty {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  padding: 18px;
  text-align: center;
  color: color-mix(in srgb, var(--text) 72%, var(--muted));
  font-weight: 900;
}

.notes textarea {
  width: 100%;
  min-height: 180px;
  border: 0;
  outline: none;
  resize: vertical;
  padding: 14px;
  background: transparent;
  color: var(--text);
  font-size: 13px;
  font-weight: 800;
  line-height: 1.6;
}

/* ===== News ===== */
.news-head {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  gap: 12px;
  flex-wrap: wrap;
  margin-bottom: 12px;
}

.news-filters {
  display: grid;
  grid-template-columns: 1fr 260px;
  gap: 12px;
  align-items: center;
  margin-bottom: 14px;
}

.select,
.input {
  width: 100%;
  padding: 12px 12px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  color: var(--text);
  box-shadow: var(--shadow-sm);
  outline: none;
  font-weight: 800;
}

.select:focus,
.input:focus {
  box-shadow: var(--shadow-sm), var(--ring);
  border-color: color-mix(in srgb, var(--primary) 30%, var(--border));
}

.news-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 14px;
}

.news-card {
  border: 1px solid var(--border);
  border-radius: 18px;
  background: var(--surface);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  padding: 14px;
  display: grid;
  gap: 10px;
}

.news-card h3 {
  font-size: 16px;
  font-weight: 1000;
  letter-spacing: -.25px;
}

.news-card .meta2 {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  color: var(--muted);
  font-weight: 850;
  font-size: 12px;
}

.news-card p {
  color: var(--muted);
  font-weight: 800;
  font-size: 13px;
  line-height: 1.5;
}

.news-img {
  width: 100%;
  height: 170px;
  border-radius: 16px;
  object-fit: cover;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 60%, transparent);
}

.pager {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin-top: 14px;
}

/* ===== Marketplace ===== */
.market-head {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 18px;
  margin: 8px 0 16px;
  flex-wrap: wrap;
}

.market-tools {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  align-items: center;
  margin-bottom: 14px;
}

.product-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 14px;
}

.product-card {
  position: relative;
  overflow: hidden;
  border-radius: 18px;
  border: 1px solid rgba(0, 0, 0, .08);
  background: color-mix(in srgb, var(--surface-solid) 78%, transparent);
  box-shadow: 0 18px 60px rgba(0, 0, 0, .08);
  backdrop-filter: blur(10px);
  transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease;
  cursor: pointer;
}

body.dark .product-card {
  border: 1px solid rgba(255, 255, 255, .10);
}

.product-card:hover {
  transform: translateY(-2px);
  border-color: rgba(0, 0, 0, .14);
  box-shadow: 0 26px 80px rgba(0, 0, 0, .12);
}

.product-cover {
  height: 160px;
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  position: relative;
  border-bottom: 1px solid var(--border);
}

.product-cover img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.product-body {
  padding: 12px 12px 14px;
  display: grid;
  gap: 8px;
}

.product-name {
  font-weight: 1000;
  font-size: 15px;
  letter-spacing: -.01em;
  color: var(--text);
}

.product-desc {
  color: var(--muted);
  font-weight: 800;
  font-size: 12px;
  line-height: 1.35;
  min-height: 34px;
}

.product-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-top: 4px;
}

.product-price {
  font-weight: 1000;
  font-size: 13px;
}

.product-cta {
  font-weight: 1000;
  font-size: 12px;
  padding: 8px 10px;
  border-radius: 12px;
  background: rgba(30, 64, 175, .10);
  border: 1px solid rgba(30, 64, 175, .18);
}

/* ===== Settings/Admin ===== */
.row-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.admin-gate {
  display: grid;
  gap: 8px;
  margin-top: 10px;
}

.admin-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.admin-panels {
  display: grid;
  gap: 12px;
  margin-top: 12px;
}

.admin-panel {
  border: 1px dashed color-mix(in srgb, var(--primary) 28%, var(--border));
  border-radius: 18px;
  padding: 12px;
  background: color-mix(in srgb, var(--surface-solid) 66%, transparent);
}

.panel-hd2 {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 10px;
}

.form {
  display: grid;
  gap: 10px;
}

.grid-2.tight {
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.mini-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 12px;
  justify-content: flex-end;
}

/* ===== Modal ===== */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, .45);
  display: none;
  align-items: center;
  justify-content: center;
  padding: 18px;
  /* lihat catatan di definisi pertama: harus di atas navbar mobile (z-index: 999) */
  z-index: 1200;
}

.modal-overlay.show {
  display: flex;
}

.modal {
  width: min(920px, 100%);
  border-radius: var(--radius-xl);
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 82%, transparent);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-xl);
  overflow: hidden;
  transform: translateY(10px);
  opacity: 0;
  transition: transform .22s var(--ease), opacity .22s var(--ease);
}

.modal-overlay.show .modal {
  transform: translateY(0);
  opacity: 1;
}

.modal-header {
  padding: 14px 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  border-bottom: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
}

/* Letakkan subjudul (kategori/tingkat/harga/...) di bawah judul materi */
.modal-title {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
}

.modal-title strong {
  font-size: 14px;
  font-weight: 1000;
  letter-spacing: -.2px;
}

.modal-title span {
  font-size: 12px;
  color: var(--muted);
  font-weight: 800;
}

.modal-close {
  width: 40px;
  height: 40px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 72%, transparent);
  cursor: pointer;
  font-weight: 1000;
  box-shadow: var(--shadow-sm);
  color: color-mix(in srgb, var(--text) 86%, var(--muted));
}

.modal-body {
  padding: 16px;
  display: grid;
  grid-template-columns: 1.1fr .9fr;
  gap: 14px;
}

.preview {
  border-radius: 22px;
  overflow: hidden;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 76%, transparent);
  min-height: 260px;
  box-shadow: var(--shadow-sm);
  position: relative;
}

.preview .ph {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-weight: 1000;
  color: color-mix(in srgb, var(--text) 70%, var(--muted));
  background: radial-gradient(500px 220px at 15% 0%, rgba(37, 99, 235, .14), transparent 60%), radial-gradient(520px 240px at 90% 10%, rgba(99, 102, 241, .12), transparent 60%), color-mix(in srgb, var(--surface-solid) 70%, transparent);
}

.preview iframe {
  width: 100%;
  height: 100%;
  border: 0;
  display: none;
}

.modal-info {
  border: 1px solid var(--border);
  border-radius: 22px;
  background: color-mix(in srgb, var(--surface-solid) 72%, transparent);
  box-shadow: var(--shadow-sm);
  padding: 14px;
  display: grid;
  gap: 10px;
}

.info-row p {
  font-size: 13px;
  color: var(--muted);
  font-weight: 800;
  line-height: 1.5;
}

.info-badges {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 2px;
}

.tiny {
  font-size: 11px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  font-weight: 900;
  color: color-mix(in srgb, var(--text) 86%, var(--muted));
}

.modal-actions {
  padding: 14px 16px 16px;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  border-top: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  flex-wrap: wrap;
}

/* NOTE:
   Tombol kiri di modal materi dipakai untuk "Daftar" (Google Form).
   Jadi JANGAN di-hide.
*/

/* Product image carousel in modal */
.img-carousel {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  background: transparent;
}

.img-carousel img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.ic-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 40px;
  height: 40px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, .22);
  background: rgba(0, 0, 0, .30);
  color: #fff;
  cursor: pointer;
  font-weight: 1000;
  backdrop-filter: blur(6px);
}

.ic-nav.left {
  left: 10px;
}

.ic-nav.right {
  right: 10px;
}

.ic-dots {
  position: absolute;
  bottom: 10px;
  left: 0;
  right: 0;
  display: flex;
  gap: 8px;
  justify-content: center;
  opacity: .95;
}

.ic-dots i {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: rgba(255, 255, 255, .45);
  border: 1px solid rgba(0, 0, 0, .15);
}

.ic-dots i.active {
  width: 20px;
  background: rgba(255, 255, 255, .85);
}

/* ===== Toast ===== */
.toast {
  position: fixed;
  right: 18px;
  bottom: 18px;
  z-index: 300;
  width: min(360px, calc(100% - 36px));
  border: 1px solid var(--border);
  border-radius: 18px;
  background: color-mix(in srgb, var(--surface-solid) 82%, transparent);
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow-xl);
  padding: 12px;
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 10px;
  align-items: center;
  transform: translateY(14px);
  opacity: 0;
  pointer-events: none;
  transition: transform .22s var(--ease), opacity .22s var(--ease);
}

.toast.show {
  transform: translateY(0);
  opacity: 1;
  pointer-events: auto;
}

.toast .dotty {
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: linear-gradient(135deg, var(--accent), #10b981);
  box-shadow: 0 18px 55px rgba(34, 197, 94, .22);
}

.toast strong {
  font-size: 12px;
  font-weight: 1000;
  letter-spacing: -.1px;
}

.toast span {
  display: block;
  font-size: 12px;
  color: var(--muted);
  font-weight: 800;
  margin-top: 1px;
}

.toast button {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  border-radius: 12px;
  width: 34px;
  height: 34px;
  cursor: pointer;
  font-weight: 1000;
  color: color-mix(in srgb, var(--text) 82%, var(--muted));
  box-shadow: var(--shadow-sm);
}

/* ===== Splash ===== */
#splash {
  position: fixed;
  inset: 0;
  z-index: 2000;
  background: radial-gradient(1200px 400px at 50% 0%, rgba(37, 99, 235, .10), transparent 60%), var(--surface-solid);
  display: grid;
  place-items: center;
  transition: opacity .45s ease, visibility .45s ease;
}

#splash.hide {
  opacity: 0;
  visibility: hidden;
}

.splash-inner {
  text-align: center;
  animation: splashFade .9s ease forwards;
}

.splash-logo {
  width: 92px;
  height: 92px;
  border-radius: 28px;
  display: grid;
  place-items: center;
  background: radial-gradient(120px 60px at 20% 0%, rgba(255, 255, 255, .35), transparent 60%), linear-gradient(180deg, #2563eb, #1e40af);
  box-shadow: 0 30px 60px rgba(37, 99, 235, .35), inset 0 1px 0 rgba(255, 255, 255, .35);
  animation: logoPop .9s cubic-bezier(.2, .9, .2, 1) forwards;
}

.logo-mark {
  font-size: 44px;
  font-weight: 1000;
  color: #fff;
  transform: translateY(-2px);
}

.splash-text {
  margin-top: 14px;
  font-size: 18px;
  font-weight: 1000;
  letter-spacing: -.3px;
  color: var(--text);
  opacity: 0;
  animation: textFade .6s ease forwards;
  animation-delay: .45s;
}

@keyframes logoPop {
  0% {
    transform: scale(.6);
    opacity: 0;
    filter: blur(6px);
  }

  60% {
    transform: scale(1.06);
  }

  100% {
    transform: scale(1);
    opacity: 1;
    filter: blur(0);
  }
}

@keyframes splashFade {
  from {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes textFade {
  from {
    opacity: 0;
    transform: translateY(6px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ===== Reduced motion ===== */
@media (prefers-reduced-motion: reduce) {

  .route,
  .btn,
  .chip,
  .class-card,
  .modal,
  .toast,
  .lesson-item,
  .bar>i {
    transition: none !important;
    animation: none !important;
  }
}

/* ===== Responsive ===== */
@media (max-width: 1100px) {
  .product-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

@media (max-width: 980px) {
  .hero {
    grid-template-columns: 1fr;
  }

  .teacher-card {
    grid-template-columns: 1fr;
  }

  .teacher-media {
    display: none;
  }

  .card-grid {
    grid-template-columns: 1fr;
  }

  .learn-layout {
    grid-template-columns: 1fr;
  }

  .lesson-list {
    max-height: 280px;
  }

  .modal-body {
    grid-template-columns: 1fr;
  }

  .news-grid {
    grid-template-columns: 1fr;
  }

  .market-tools {
    grid-template-columns: 1fr;
  }

  .news-filters {
    grid-template-columns: 1fr;
  }

  .product-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* WhatsApp-style search only on mobile, only for Home (because markup lives in #route-home) */
@media (max-width: 560px) {
  .home-global-search {
    display: block;
  }

  /* rapikan jarak agar search pas di area kosong bawah top-nav */
  .page-shell {
    padding-top: 104px;
  }

  .home-global-search .wa-search {
    padding: 12px 12px;
  }

  .home-global-search .wa-results {
    border-radius: 20px;
  }
}

/* (intentional) */

@media (max-width: 520px) {
  .container {
    width: min(var(--container), calc(100% - 28px));
  }

  .top-nav {
    top: 10px;
  }

  .top-nav .nav-inner {
    border-radius: 20px;
    padding: 10px 10px;
  }

  .page-shell {
    padding-top: 82px;
  }

  .brand {
    min-width: unset;
    gap: 10px;
  }

  .brand-mark {
    width: 32px;
    height: 32px;
    border-radius: 12px;
  }

  .brand-text span {
    display: none;
  }

  .btn {
    padding: 7px 9px;
    border-radius: 12px;
    font-size: 12px;
  }

  .btn-icon {
    width: 34px;
    height: 34px;
    border-radius: 12px;
  }

  .kbd {
    display: none;
  }

  .nav-actions {
    gap: 8px;
    max-width: 65vw;
    overflow-x: auto;
    scrollbar-width: none;
  }

  .nav-actions::-webkit-scrollbar {
    display: none;
  }

  /* hide labels on mobile (requested) */
  .nav-actions .lbl {
    display: none;
  }

  .hero-title h1 {
    font-size: 24px;
  }

  .product-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .product-cover {
    height: 140px;
  }

  .explore-sticky {
    top: 82px;
  }
}


/* ===========================
   V7 polish & layout fixes
   =========================== */

.home-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: 1.25fr .95fr;
  grid-template-areas:
    "hero teacher"
    "hero benefits"
    "packages benefits"
    "teachreg benefits"
    "sellerreg benefits";
}


.home-grid [data-area="hero"] {
  grid-area: hero;
}

.home-grid [data-area="benefits"] {
  grid-area: benefits;
}

.home-grid [data-area="teacher"] {
  grid-area: teacher;
}

.home-grid [data-area="teachreg"] {
  grid-area: teachreg;
}

.home-grid [data-area="packages"] {
  grid-area: packages;
}

.home-grid [data-area="sellerreg"] {
  grid-area: sellerreg;
}

@media (max-width: 920px) {
  .home-grid {
    grid-template-columns: 1fr;
    grid-template-areas:
      "hero"
      "packages"
      "teachreg"
      "teacher"
      "benefits"
      "sellerreg";
  }
}

.hero-title {
  font-size: clamp(28px, 3.4vw, 44px);
  line-height: 1.08;
  letter-spacing: -0.02em;
  max-width: 26ch;
  text-wrap: balance;
}

.hero-sub {
  max-width: 60ch;
}

/* Aksi cepat (button list) di kanan hero */
.hero-cta {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-start;
  /* jangan nempel kanan */
}

.hero-cta a {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.72), rgba(255, 255, 255, 0.52));
  border: 1px solid rgba(255, 255, 255, 0.6);
  box-shadow: 0 10px 30px rgba(10, 14, 28, 0.08);
  font-weight: 900;
}

.hero-cta a:hover {
  transform: translateY(-1px);
}

.hero-cta a:active {
  transform: translateY(0);
}

.hero-cta a:focus-visible {
  outline: 3px solid rgba(59, 130, 246, 0.35);
  outline-offset: 2px;
}

.hero-cta .cta-primary {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.95), rgba(99, 102, 241, 0.9));
  color: white;
  border: 1px solid rgba(99, 102, 241, 0.55);
}

.hero-cta .cta-muted {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.5));
}

@media (max-width: 900px) {

  /* Buat judul & tombol hero rapi di mobile */
  .hero-top {
    flex-direction: column;
    align-items: stretch;
    gap: 14px;
  }

  .hero-cta {
    justify-content: flex-start;
  }

  .hero-cta a {
    flex: 1 1 calc(50% - 10px);
  }
}

@media (max-width: 520px) {
  .hero-title {
    max-width: 42ch;
    font-size: 30px;
  }

  .hero-sub {
    font-size: 15px;
  }
}

.quick-filter {
  margin-top: 14px;
  padding: 14px;
  background: rgba(255, 255, 255, .6);
  border: 1px solid rgba(12, 20, 40, .08);
  border-radius: 18px;
}

.qf-head {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 12px;
}

.qf-title {
  font-weight: 800;
  display: flex;
  align-items: center;
  gap: 8px;
}

.qf-sub {
  color: var(--muted);
  font-weight: 600;
}

.promo-card {
  margin-top: 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px;
  border-radius: 18px;
  background: linear-gradient(135deg, rgba(59, 130, 246, .10), rgba(99, 102, 241, .08));
  border: 1px solid rgba(59, 130, 246, .18);
}

.promo-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 850;
  padding: 8px 10px;
  border-radius: 14px;
  background: rgba(255, 255, 255, .65);
  border: 1px solid rgba(12, 20, 40, .08);
}

.promo-text {
  margin-top: 6px;
  color: var(--muted);
  font-weight: 650;
}

.promo-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

@media (max-width: 520px) {
  .promo-card {
    flex-direction: column;
    align-items: flex-start;
  }

  .promo-actions {
    width: 100%;
  }
}

.teacher-profile {
  display: grid;
  grid-template-columns: 1.1fr 1.4fr;
  gap: 14px;
  overflow: hidden;
}

.teacher-profile .tp-media {
  position: relative;
  border-radius: 18px;
  overflow: hidden;
  background: radial-gradient(circle at 20% 20%, rgba(59, 130, 246, .28), rgba(17, 24, 39, .10));
  min-height: 220px;
}

.teacher-profile .tp-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.teacher-profile .tp-fallback {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 54px;
  font-weight: 900;
  color: rgba(255, 255, 255, .92);
}

.teacher-profile .tp-body {
  padding: 6px 4px;
}

.tp-kicker {
  font-size: 12px;
  font-weight: 850;
  color: rgba(0, 0, 0, 0.95);
  letter-spacing: .08em;
  text-transform: uppercase;
}

.tp-name {
  font-size: 22px;
  font-weight: 900;
  margin-top: 4px;
}

.tp-meta {
  color: var(--muted);
  font-weight: 700;
  margin-top: 4px;
}

.tp-desc {
  margin-top: 10px;
  color: var(--muted);
  font-weight: 650;
}

.tp-actions {
  margin-top: 14px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

@media (max-width: 520px) {
  .teacher-profile {
    grid-template-columns: 1fr;
  }

  .teacher-profile .tp-media {
    min-height: 180px;
  }
}

.benefits-card .benef-title {
  font-size: 18px;
  font-weight: 900;
}

.benefits-card .benef-sub {
  margin-top: 6px;
  color: var(--muted);
  font-weight: 650;
}

.benefits-card .benef-list {
  margin-top: 14px;
  display: grid;
  gap: 10px;
}

.benefits-card .benef-item {
  padding: 12px;
  border-radius: 16px;
  background: rgba(255, 255, 255, .55);
  border: 1px solid rgba(12, 20, 40, .08);
  font-weight: 800;
  display: flex;
  gap: 10px;
  align-items: flex-start;
}

.benefits-card .benef-actions {
  margin-top: 14px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.reg-card .reg-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 10px;
}

.reg-card .reg-title {
  font-weight: 900;
  font-size: 18px;
}

.reg-card .reg-pill {
  font-weight: 850;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255, 255, 255, .70);
  border: 1px solid rgba(12, 20, 40, .08);
  white-space: nowrap;
}

.reg-card .reg-desc {
  color: var(--muted);
  font-weight: 650;
  margin-bottom: 12px;
}

.reg-card .reg-note {
  margin-top: 10px;
  color: var(--muted);
  font-weight: 650;
}

@media (max-width: 520px) {
  .reg-card .reg-title {
    font-size: 17px;
  }

  .reg-card .reg-desc {
    font-size: 14px;
  }
}

.explore-sticky {
  position: sticky;
  top: 92px;
  z-index: 40;
  padding-top: 10px;
}

@media (max-width: 520px) {
  .explore-sticky {
    top: 78px;
    padding-top: 6px;
  }
}

.explore-titlebar {
  background: rgba(255, 255, 255, .45);
  border: 1px solid rgba(12, 20, 40, .04);
  border-radius: 18px;
  padding: 14px;
  backdrop-filter: blur(12px);
}

.explore-title {
  display: flex;
  align-items: baseline;
  gap: 14px;
  flex-wrap: wrap;
}

.explore-title .sub {
  max-width: 46ch;
}

.explore-title h2 {
  margin: 0;
}

.explore-title .sub {
  margin: 0;
  color: var(--muted);
  font-weight: 700;
}

@media (max-width: 520px) {
  .explore-title {
    flex-wrap: nowrap;
    align-items: flex-end;
  }

  .explore-title h2 {
    font-size: 26px;
  }

  .explore-title .sub {
    font-size: 14px;
    text-align: right;
  }
}

input,
textarea {
  font-weight: 500;
}

@media (max-width: 520px) {
  .route {
    padding-top: 10px;
  }
}

.nav-actions button:focus,
.nav-actions a:focus {
  outline: none;
}


.qf-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.qf-tags .chip {
  cursor: pointer;
}

/* ==============================
   Registrasi (Home)
   ============================== */
.reg-head {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.reg-head h3 {
  margin: 0;
  font-size: 20px;
  letter-spacing: -.3px;
}

.reg-tag {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, .75);
  font-weight: 900;
  font-size: 12px;
  color: var(--text);
  white-space: nowrap;
}

.reg-card p {
  margin: 10px 0 0;
}

.reg-actions {
  margin-top: 14px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* Buat kartu lebih ringkas di mobile */
@media (max-width: 900px) {
  .reg-head h3 {
    font-size: 18px;
  }

  .reg-tag {
    padding: 7px 9px;
  }

  .reg-card {
    padding: 18px !important;
  }

  .reg-card .btn {
    width: 100%;
  }
}

/* ==============================
   Tombol / Link – rapih & konsisten
   ============================== */
.btn,
.btn:visited {
  /* Pastikan teks tombol selalu terbaca.
     Sebelumnya memakai `inherit` dan pada beberapa konteks (mis. .btn.primary)
     menyebabkan teks menjadi putih di atas background terang (terlihat "hilang" di mobile). */
  color: var(--text);
  text-decoration: none;
}

.btn.primary {
  /* Varian class yang dipakai di HTML: `class="btn primary"`.
     Samakan perilaku dengan `.btn-primary` (yang sudah ada) agar tidak terjadi
     teks putih di atas background terang. */
  border: none;
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  color: #fff;
  box-shadow: var(--shadow-glow);
}

.btn.soft {
  /* Varian class yang dipakai di HTML: `class="btn soft"`.
     Samakan perilaku dengan `.btn-soft` (yang sudah ada). */
  border: 1px solid color-mix(in srgb, var(--primary) 18%, var(--border));
  background:
    radial-gradient(380px 160px at 20% 0%, rgba(37, 99, 235, .16), transparent 60%),
    color-mix(in srgb, var(--surface-solid) 78%, transparent);
  color: var(--text);
}

/* Khusus CTA hero: pastikan varian tombol tidak tertimpa oleh aturan `hero-cta a` */
.hero-cta a.btn.primary {
  border: none;
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  color: #fff;
  box-shadow: var(--shadow-glow);
}

.hero-cta a.btn.soft {
  border: 1px solid color-mix(in srgb, var(--primary) 18%, var(--border));
  background:
    radial-gradient(380px 160px at 20% 0%, rgba(37, 99, 235, .16), transparent 60%),
    color-mix(in srgb, var(--surface-solid) 78%, transparent);
  color: var(--text);
}

.btn:focus {
  outline: none;
}

.btn:focus-visible {
  box-shadow: 0 0 0 4px rgba(46, 98, 241, .20), var(--shadow);
}

/* Hilangkan underline yang muncul pada beberapa browser ketika <a> ada di dalam chip */
.chip a,
.hero-cta a,
.nav-btn,
.brand {
  text-decoration: none;
}

/* Input jangan terlalu tebal */
input,
textarea {
  font-weight: 500;
}


@media (max-width: 560px) {
  .brand {
    min-width: 0;
  }

  .nav-actions {
    flex-wrap: wrap;
    justify-content: flex-end;
    gap: 8px;
  }

  .nav-inner {
    padding: 10px 10px;
  }
}


/* ===== Teacher profile typography polish ===== */
.teacher-profile .tp-body {
  padding: 10px 6px;
  /* lebih lega dari 6px 4px */
}

.tp-kicker {
  font-size: 11px;
  /* lebih “label” */
  font-weight: 800;
  letter-spacing: .14em;
  /* lebih premium */
  text-transform: uppercase;
  color: rgba(0, 0, 0, 0.95);
  margin-bottom: 6px;
}

.tp-name {
  font-size: clamp(20px, 2.1vw, 26px);
  font-weight: 950;
  /* tetap kuat tapi rapi */
  letter-spacing: -0.02em;
  line-height: 1.15;
  margin: 0;
  /* rapikan spacing */
}

.tp-meta {
  margin-top: 8px;
  font-size: 13px;
  font-weight: 650;
  /* jangan terlalu tebal */
  line-height: 1.45;
  color: color-mix(in srgb, var(--muted) 92%, var(--text));
}

.tp-desc {
  margin-top: 10px;
  font-size: 13px;
  font-weight: 600;
  line-height: 1.6;
  /* bikin paragraf enak dibaca */
  color: var(--muted);
  max-width: 52ch;
  /* biar tidak “melebar liar” */
}

.tp-desc b {
  font-weight: 800;
}

.tp-desc code {
  font-size: 12px;
  padding: 2px 6px;
  border-radius: 10px;
  background: rgba(255, 255, 255, .55);
  border: 1px solid rgba(12, 20, 40, .08);
}

.tp-actions {
  margin-top: 14px;
  gap: 10px;
}

.tp-actions .btn {
  min-width: 150px;
  /* tombol terlihat konsisten */
  justify-content: center;
}


/* ==============================
   Mobile polish: Registrasi & Pengajar (premium)
   ============================== */
@media (max-width: 560px) {

  /* ---------- REGISTRATION CARD (Daftar jadi Pengajar) ---------- */
  .reg-card .reg-pill {
    padding: 7px 12px;
    font-size: 12px;
    font-weight: 900;
    background: rgb(244 163 21);
    border: 1px solid rgb(244 164 22);
    color: rgb(254 254 254);
  }


  /* Head jadi bertumpuk biar tidak “mekar” ke samping */
  .reg-card .reg-head {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
    margin-bottom: 10px;
  }

  .reg-card .reg-title {
    font-size: 18px;
    line-height: 1.2;
    letter-spacing: -0.02em;
  }

  .reg-card .reg-pill {
    padding: 7px 12px;
    font-size: 12px;
    font-weight: 900;
    background: rgb(244 165 24 / 0%);
    border: 1px solid rgb(211 249 0);
    color: rgb(0 0 0);
  }

  .reg-card .reg-desc {
    font-size: 13px;
    line-height: 1.6;
    margin-bottom: 14px;
    color: color-mix(in srgb, var(--muted) 92%, var(--text));
  }

  /* Tombol dibuat full biar premium & mudah dipencet */
  .reg-card .btn {
    width: 100%;
    justify-content: center;
    padding: 12px 14px;
    border-radius: 16px;
  }

  /* ---------- TEACHER PROFILE CARD (Pengajar) ---------- */
  .teacher-profile {
    grid-template-columns: 1fr;
    /* sudah ada, kita rapikan spacing */
    gap: 14px;
  }

  .teacher-profile .tp-media {
    min-height: 200px;
    /* sedikit lebih “hero” */
    border-radius: 22px;
  }

  .teacher-profile .tp-body {
    padding: 4px 2px 2px;
  }

  .tp-kicker {
    font-size: 11px;
    letter-spacing: .16em;
    margin-bottom: 6px;
  }

  .tp-name {
    font-size: 22px;
    line-height: 1.15;
    letter-spacing: -0.02em;
    margin-top: 0;
  }

  /* Meta jadi badge kecil (lebih rapi dari teks biasa) */
  .tp-meta {
    display: inline-flex;
    width: fit-content;
    padding: 6px 12px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 850;
    margin-top: 10px;
    background: rgba(59, 130, 246, .10);
    border: 1px solid rgba(59, 130, 246, .18);
    color: rgba(30, 64, 175, .95);
  }

  /* Deskripsi jadi “kotak” halus seperti di contoh premium */
  .tp-desc {
    margin-top: 12px;
    padding: 12px 14px;
    border-radius: 18px;
    background: rgba(255, 255, 255, .55);
    border: 1px solid rgba(15, 23, 42, .08);
    font-size: 13px;
    line-height: 1.65;
  }

  .tp-desc code {
    padding: 2px 7px;
    border-radius: 999px;
    background: rgba(255, 255, 255, .75);
    border: 1px solid rgba(15, 23, 42, .10);
    font-size: 12px;
  }

  /* Tombol Pengajar jadi 2 kolom biar simetris & premium */
  .tp-actions {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-top: 14px;
  }

  .tp-actions .btn {
    width: 100%;
    justify-content: center;
    padding: 12px 12px;
    border-radius: 16px;
  }
}

/* layar super kecil: tombol jadi 1 kolom */
@media (max-width: 380px) {
  .tp-actions {
    grid-template-columns: 1fr;
  }
}


.hero-cta {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px;
}

[data-route="focus"] {
  display: none !important;
}


/* ===== FIX: Pengaturan (mobile) agar panel tidak sempit ===== */
@media (max-width: 560px) {

  /* Khusus halaman Pengaturan: ubah grid 2 kolom jadi 1 kolom agar tiap panel melebar */
  .route[data-route="settings"] .grid-2 {
    grid-template-columns: 1fr;
  }
}


/* ===== FIX: Pengaturan (mobile) agar panel tidak sempit ===== */
@media (max-width: 560px) {

  /* Khusus halaman Pengaturan: ubah grid 2 kolom jadi 1 kolom agar tiap panel melebar */
  .route[data-route="settings"] .grid-2 {
    grid-template-columns: 1fr;
  }
}


/* --- PATCH: kotak untuk bagian info profil pengajar (tanpa mengubah struktur HTML) --- */
.teacher-profile .tp-info-box {
  /* fallback untuk markup yang memakai .tp-info-box (bukan .tp-body) */
  padding: 14px 14px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 92%, rgba(59, 130, 246, .08));
  box-shadow: var(--shadow-xs, 0 1px 0 rgba(17, 24, 39, .05));
}

/* buat teks meta jadi “kotak/pill” seperti di screenshot */
.teacher-profile .tp-meta {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  margin-top: 10px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--border) 70%, rgba(59, 130, 246, .35));
  background: color-mix(in srgb, rgba(59, 130, 246, .10) 60%, var(--surface));
  color: color-mix(in srgb, var(--text, #111827) 65%, rgba(59, 130, 246, .75));
  font-weight: 800;
}



/* PATCH: 3 tombol promo selalu sejajar (tidak turun ke bawah) */
.promo-card .promo-actions {
  flex-wrap: nowrap;
  /* kunci: jangan wrap */
  overflow-x: auto;
  /* kalau sempit, geser ke samping */
  -webkit-overflow-scrolling: touch;
  align-items: center;
  gap: 10px;
  padding-bottom: 2px;
  /* biar scroll tidak “nabrak” */
}

/* tombol jangan pecah kata & jangan mengecil aneh */
.promo-card .promo-actions .btn {
  flex: 0 0 auto;
  white-space: nowrap;
}

/* sedikit diperkecil di layar kecil supaya makin muat */
@media (max-width: 420px) {
  .promo-card .promo-actions .btn {
    padding: 9px 12px;
    font-size: 13px;
    border-radius: 14px;
  }
}

/* opsional: scrollbar lebih halus (tidak menghilangkan fungsi) */
.promo-card .promo-actions::-webkit-scrollbar {
  height: 6px;
}

.promo-card .promo-actions::-webkit-scrollbar-thumb {
  background: rgba(15, 23, 42, .18);
  border-radius: 999px;
}



/* =========================================
   PATCH: Navbar ke bawah (MOBILE ONLY)
   Desktop tetap seperti semula
========================================= */

/* default: TIDAK DIUBAH (desktop aman) */
header,
.navbar,
.top-nav {
  position: relative;
}

/* MOBILE ONLY */
@media (max-width: 768px) {

  /* beri ruang agar konten tidak ketutup navbar bawah */
  body {
    padding-bottom: 84px;
  }

  /* pindahkan navbar ke bawah */
  header,
  .navbar,
  .top-nav {
    position: fixed;
    top: auto;
    bottom: 12px;
    left: 12px;
    right: 12px;

    z-index: 999;
    border-radius: 20px;
    box-shadow: 0 12px 28px rgba(0, 0, 0, .14);
  }

  /* rapikan isi navbar */
  header .nav-inner,
  .navbar .nav-inner,
  .top-nav .nav-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  /* icon & tombol jangan mengecil */
  header button,
  .navbar button,
  .top-nav button {
    flex-shrink: 0;
  }
}

/* =========================================
   PATCH: Teks "NUQTHAH LEARN" di atas (Mobile)
   HANYA TEKS, tanpa kotak
   Desktop tidak berubah
========================================= */

@media (max-width: 768px) {

  /* beri ruang atas untuk teks */
  body {
    padding-top: 44px;
  }

  /* teks brand di atas seperti WhatsApp */
  body::before {
    content: "Nuqthah Learning Center";
    position: fixed;
    top: 10px;
    left: 16px;

    z-index: 1001;

    font-weight: 900;
    font-size: 16px;
    letter-spacing: .4px;
    color: #0f172a;

    background: none;
    box-shadow: none;
    pointer-events: none;
  }

  /* hilangkan teks brand di navbar bawah (jika ada) */
  header .nav-brand span,
  .navbar .nav-brand span,
  .top-nav .nav-brand span,
  header .brand span,
  .navbar .brand span,
  .top-nav .brand span {
    display: none;
  }
}

/* ===== PATCH: rapikan jarak bar pencarian Home (mobile) =====
   - bar pencarian terlalu turun karena ada body padding-top + route padding-top
   - patch ini hanya menambah override CSS (tanpa mengubah/menghapus struktur)
*/
@media (max-width: 560px) {

  /* page-shell sudah punya padding untuk top-nav, jadi body padding-top tidak perlu di layar kecil */
  body {
    padding-top: 0;
  }

  /* khusus Home: hilangkan extra padding atas agar search naik ke area yang ditandai */
  .route[data-route="home"] {
    padding-top: 0 !important;
  }

  /* rapatkan jarak search dari atas */
  .route[data-route="home"] .home-global-search {
    padding: 4px 0 2px;
  }
}


/* =========================================
   MOBILE HOME SEARCH — WHATSAPP STYLE
   TANPA MERUBAH STRUKTUR
========================================= */
@media (max-width: 768px) {

  /* jadikan hero sebagai anchor */
  #route-home .hero-wrap {
    position: relative;
    padding-top: 0;
  }

  /* SEARCH BAR: NAIKKAN KE BAWAH LOGO */
  #route-home .home-global-search {
    position: relative;
    margin-top: -38px;
    /* 🔥 KUNCI UTAMA */
    margin-bottom: 14px;
    z-index: 5;
  }

  /* kecilkan padding card agar rapat */
  #route-home .hero-card {
    padding-top: 12px;
  }
}


/* =====================================
   HOME PROMO SLIDER (MOBILE ONLY)
===================================== */
.home-promo-slider {
  display: none;
  margin-top: 8px;
  margin-bottom: 14px;
}

@media (max-width: 768px) {
  .home-promo-slider {
    display: block;
  }
}

.promo-track {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;

  padding: 8px 0 12px;
  scroll-padding: 0 12px;
}

.promo-track::-webkit-scrollbar {
  display: none;
}

.promo-slide {
  flex: 0 0 88%;
  scroll-snap-align: center;
  border-radius: 22px;
  overflow: hidden;
  box-shadow: none;
  border: none;
  background: transparent;
}

.promo-slide img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  display: block;
}

/* dots */
.promo-dots {
  display: flex;
  justify-content: center;
  gap: 6px;
  margin-top: 8px;
}

.promo-dots span {
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: var(--muted);
  opacity: .35;
}

.promo-dots span.active {
  width: 18px;
  opacity: 1;
  background: var(--primary);
}


/* FIX: hilangkan warna transparan di luar foto promo */
.home-promo-slider {
  background: transparent;
}

.home-promo-slider .container {
  background: transparent;
}

.promo-track {
  background: transparent;
  padding-bottom: 2px;
}

/* ini kuncinya */
.promo-slide {
  background: transparent !important;
}

/* cegah bleed dari hero */
#route-home {
  isolation: isolate;
}

/* =====================================
   HOME PROMO SLIDER — FULL WIDTH
===================================== */
@media (max-width: 768px) {

  /* lepas batas container */
  .home-promo-slider .container {
    width: 100vw;
    max-width: 100vw;
    margin-left: calc(-50vw + 50%);
    margin-right: calc(-50vw + 50%);
    padding-left: 0;
    padding-right: 0;
  }

  /* slider full layar */
  .promo-track {
    gap: 14px;
    padding-left: 14px;
    padding-right: 14px;
  }

  /* slide lebih lebar (edge look) */
  .promo-slide {
    flex: 0 0 92%;
    border-radius: 26px;
  }

  .promo-slide img {
    height: 160px;
  }
}

.promo-slide {
  box-shadow: none;
}


/* =====================================
   HOME BRAND TITLE (BEBAS DARI NAVBAR)
===================================== */
@media (max-width: 768px) {

  .home-brand {
    margin-bottom: 10px;
  }

  .home-brand-title {
    font-size: 14px;
    font-weight: 900;
    letter-spacing: .35px;
    text-transform: uppercase;
    color: color-mix(in srgb, var(--text) 92%, var(--muted));
  }

}



/* === FORCE PROMO SLIDER IMAGE RATIO 16:10 === */
.promo-slide {
  aspect-ratio: 18 / 9;
}

.promo-slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* HILANGKAN HOME BRAND TITLE */
#route-home .home-brand {
  display: none;
}


/* =========================================
   FIX: HOME TOP (judul + global search) TIDAK IKUT SCROLL
   - Mengandalkan home-top-fix.js yang memindahkan .home-global-search
     menjadi direct child #pageShell dan toggle body.home-top-visible
   ========================================= */
@media (max-width: 560px) {
  body.home-top-visible .home-global-search {
    /* pastikan tetap tampil dan menjadi header fixed */
    display: block;
    position: fixed;
    left: 0;
    right: 0;
    /* selaras dengan padding-top .page-shell (mobile) agar tepat di bawah top-nav */
    top: 30px;
    z-index: 1001;
    /* reset aturan lama yang mengangkat search ke hero */
    margin-top: 0 !important;
    margin-bottom: 0 !important;
  }

  /* beri ruang di awal konten Home supaya tidak ketutup header fixed */
  body.home-top-visible #route-home {
    padding-top: 76px;
  }
}




/* MOBILE: judul atas sekarang dari HTML, bukan body::before */
@media (max-width: 768px) {

  /* Matikan judul versi CSS (pseudo-element) */
  body::before {
    content: none !important;
  }

  /* Judul versi HTML */
  .mobile-top-title {
    position: fixed;
    top: 10px;
    left: 16px;
    z-index: 1001;

    font-weight: 900;
    font-size: 16px;
    letter-spacing: .4px;
    color: #0f172a;

    background: none;
    box-shadow: none;
    pointer-events: none;
  }

  /* Ruang atas yang sebelumnya dipakai untuk body::before */
  body {
    padding-top: 20px;
    /* sama seperti patch kamu sebelumnya */
  }
}

/* =========================
   Chapter Picker + Audio (Drive) — Whitelist per Materi
   ========================= */
.chapter-picker {
  width: min(560px, 92%);
  margin: 0 auto;
  display: grid;
  gap: 14px;
  padding: 6px 0 18px;
}

.chapter-btn {
  width: 100%;
  text-align: left;
  padding: 16px 16px;
  border-radius: 18px;
  border: 1px solid rgba(0, 0, 0, .08);
  background: rgba(255, 255, 255, .92);
  color: #111;
  font-weight: 650;
  box-shadow: 0 10px 26px rgba(0, 0, 0, .06);
}

.chapter-btn.is-disabled {
  opacity: .55;
  box-shadow: none;
}

.audio-player {
  width: min(760px, 96%);
  margin: 0 auto;
}

.audio-player iframe {
  width: 100%;
  height: 58vh;
  max-height: 520px;
  border: 0;
  border-radius: 18px;
  background: #111;
}






/* =========================================================
   HOME: fixed search header (hanya home, hanya layar kecil)
   - home-top-fix.js toggle body.home-top-visible :contentReference[oaicite:3]{index=3}
   - search jadi fixed (sebelumnya top: 30px) :contentReference[oaicite:4]{index=4}
   ========================================================= */
@media (max-width: 560px) {

  /* Posisikan search fixed tepat di bawah judul atas */
  body.home-top-visible .home-global-search {
    top: var(--shell-top) !important;
    /* sama dengan --shell-top mobile */
  }

  /* Karena search jadi fixed, HOME perlu tambahan ruang di atas konten
     agar tidak ketutup search */
  body.home-top-visible #route-home {
    padding-top: 84px !important;
    /* ruang ekstra untuk tinggi search */
  }

  /* Pastikan page-shell tidak makin “membengkak” akibat patch lama */
  .page-shell {
    padding-top: 52px !important;
  }
}

/* =========================
   Chapter Picker Modal
   ========================= */
#modalOverlay.mode-chapter-picker .modal-media {
  height: 60vh;
  min-height: 360px;
  padding: 18px 16px;
}

#modalOverlay.mode-chapter-picker #modalPlaceholder {
  display: grid !important;
  place-items: center;
  width: 100%;
  height: 100%;
}

#modalOverlay.mode-chapter-picker #modalFrame,
#modalOverlay.mode-chapter-picker #modalCarousel {
  display: none !important;
}

#modalOverlay.mode-chapter-picker .modal-info,
#modalOverlay.mode-chapter-picker .modal-actions {
  display: none !important;
}

.chapter-picker {
  width: min(520px, 92%);
  display: grid;
  gap: 18px;
  padding: 10px 0;
}

.chapter-btn {
  width: 100%;
  height: 56px;
  border-radius: 999px;
  border: 2px solid rgba(255, 255, 255, .75);
  background: rgba(255, 255, 255, .12);
  color: rgba(255, 255, 255, .92);
  font-weight: 700;
  letter-spacing: .2px;
  text-transform: none;
  box-shadow: 0 12px 30px rgba(0, 0, 0, .14);
}

.chapter-btn:active {
  transform: scale(.99);
}

.chapter-btn.is-locked {
  opacity: .55;
  filter: grayscale(.2);
}

/* Player mode (after choose chapter) — keep clean */
#modalOverlay.mode-chapter-player .modal-info {
  display: none !important;
}

#modalOverlay.mode-chapter-player #modalCarousel {
  display: none !important;
}

#modalOverlay.mode-chapter-player #modalPlaceholder {
  display: none !important;
}

#modalOverlay.mode-chapter-player #modalFrame {
  display: block !important;
  height: 52vh;
  min-height: 320px;
  border-radius: 18px;
}








/* =========================
   FIX: Chapter Picker tampil semua (scrollable)
   + tulisan hitam
   + modal lebih tinggi & lebih “panjang”
   ========================= */

#modalOverlay.mode-chapter-picker .modal-media {
  height: 72vh;
  /* lebih panjang dari 60vh */
  min-height: 420px;
  overflow: auto;
  /* INI KUNCI: supaya list bisa discroll */
  padding: 18px 16px 22px;
}

#modalOverlay.mode-chapter-picker #modalPlaceholder {
  display: block !important;
  /* jangan center grid */
  width: 100%;
  height: auto;
  /* biar ikut konten */
}

/* area list */
.chapter-picker {
  width: min(680px, 92%);
  /* sedikit lebih lebar */
  margin: 0 auto;
  display: grid;
  gap: 12px;
  padding: 6px 0 18px;
}

/* tombol jadi jelas (hitam) */
.chapter-btn {
  height: auto;
  padding: 14px 16px;
  border-radius: 18px;
  /* tidak terlalu “mengotak”, tapi juga tidak pill */
  border: 1px solid rgba(0, 0, 0, .10);
  background: rgba(255, 255, 255, .96);
  color: #111 !important;
  /* hitam */
  box-shadow: 0 10px 26px rgba(0, 0, 0, .08);
  font-weight: 700;
}

.chapter-btn.is-disabled {
  opacity: .55;
  box-shadow: none;
}

/* --- Teacher register form --- */
.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

@media (max-width:720px) {
  .form-grid {
    grid-template-columns: 1fr;
  }
}

.field {
  display: grid;
  gap: 6px;
}

.field>span {
  font-size: 12px;
  font-weight: 850;
  color: var(--muted);
}

.field input,
.field textarea {
  width: 100%;
  padding: 12px 12px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  color: var(--text);
  outline: none;
  box-shadow: var(--shadow-sm);
}

.field textarea {
  resize: vertical;
  min-height: 96px;
}

.field input:focus,
.field textarea:focus {
  border-color: color-mix(in srgb, var(--primary) 34%, var(--border));
  box-shadow: var(--shadow-md), var(--ring);
}








/* =========================================================
   HOME: fixed search header (hanya home, hanya layar kecil)
   - home-top-fix.js toggle body.home-top-visible :contentReference[oaicite:3]{index=3}
   - search jadi fixed (sebelumnya top: 30px) :contentReference[oaicite:4]{index=4}
   ========================================================= */
@media (max-width: 560px) {

  /* Posisikan search fixed tepat di bawah judul atas */
  body.home-top-visible .home-global-search {
    top: var(--shell-top) !important;
    /* sama dengan --shell-top mobile */
  }

  /* Karena search jadi fixed, HOME perlu tambahan ruang di atas konten
     agar tidak ketutup search */
  body.home-top-visible #route-home {
    padding-top: 84px !important;
    /* ruang ekstra untuk tinggi search */
  }

  /* Pastikan page-shell tidak makin “membengkak” akibat patch lama */
  .page-shell {
    padding-top: 52px !important;
  }
}


/* =========================================================
   PREMIUM BACKGROUND — MOBILE TOP TITLE
   "Nuqthah Ling Center"
   ========================================================= */

#mobileTopTitle {
  position: fixed;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1001;

  /* Ukuran & layout */
  padding: 10px 18px;
  border-radius: 999px;

  /* Premium glass background */
  background:
    radial-gradient(120px 40px at 20% 20%,
      rgba(255, 255, 255, .55),
      transparent 60%),
    linear-gradient(135deg,
      rgba(99, 102, 241, .18),
      rgba(37, 99, 235, .22)),
    rgba(255, 255, 255, .75);

  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);

  /* Border & shadow premium */
  border: 1px solid rgba(99, 102, 241, .25);
  box-shadow:
    0 10px 28px rgba(37, 99, 235, .18),
    inset 0 1px 0 rgba(255, 255, 255, .6);

  /* Typography */
  font-size: 14px;
  font-weight: 900;
  letter-spacing: .2px;
  color: #0f172a;

  white-space: nowrap;
}

/* Dark mode tuning */
body.dark #mobileTopTitle {
  background:
    radial-gradient(120px 40px at 20% 20%,
      rgba(255, 255, 255, .12),
      transparent 60%),
    linear-gradient(135deg,
      rgba(99, 102, 241, .22),
      rgba(37, 99, 235, .30)),
    rgba(15, 23, 42, .85);

  border: 1px solid rgba(99, 102, 241, .35);
  color: #e5e7eb;

  box-shadow:
    0 14px 36px rgba(0, 0, 0, .45),
    inset 0 1px 0 rgba(255, 255, 255, .08);
}





/* =========================================================
   MOBILE TOP TITLE — PREMIUM PACK (FINAL)
   - Left aligned
   - Height/feel matches search
   - Icon "N"
   - Shimmer/glow on load
   - Auto-hide support via class .mt-hide (JS)
   ========================================================= */

@media (max-width: 768px) {
  :root {
    --mt-left: 16px;
    --mt-top: 10px;

    /* “feel” selevel search pill */
    --mt-height: 44px;
    --mt-pad-x: 14px;
    --mt-font: 15px;
  }

  /* Base */
  #mobileTopTitle {
    position: fixed !important;
    top: var(--mt-top) !important;
    left: var(--mt-left) !important;
    right: auto !important;
    transform: none !important;
    z-index: 2000 !important;

    display: inline-flex !important;
    align-items: center !important;
    gap: 10px !important;

    height: var(--mt-height) !important;
    padding: 0 var(--mt-pad-x) !important;
    border-radius: 999px !important;

    /* Premium glass */
    background:
      radial-gradient(140px 50px at 18% 20%, rgba(255, 255, 255, .72), transparent 60%),
      linear-gradient(135deg, rgba(99, 102, 241, .22), rgba(37, 99, 235, .22)),
      rgba(255, 255, 255, .78) !important;

    border: 1px solid rgba(99, 102, 241, .28) !important;

    backdrop-filter: blur(14px) !important;
    -webkit-backdrop-filter: blur(14px) !important;

    box-shadow:
      0 14px 38px rgba(37, 99, 235, .18),
      inset 0 1px 0 rgba(255, 255, 255, .65) !important;

    color: #0f172a !important;
    font-weight: 950 !important;
    font-size: var(--mt-font) !important;
    letter-spacing: .25px !important;

    white-space: nowrap !important;

    /* tidak ganggu klik (sesuai intent awal styling kamu) */
    pointer-events: none !important;

    /* animasi muncul/hilang saat scroll */
    transition:
      opacity .22s ease,
      transform .22s ease,
      filter .22s ease !important;
  }

  /* Icon “N” */
  #mobileTopTitle::before {
    content: "N";
    display: grid;
    place-items: center;
    width: 26px;
    height: 26px;
    border-radius: 12px;

    color: #fff;
    font-weight: 1000;
    font-size: 13px;

    background: linear-gradient(135deg, rgba(37, 99, 235, .95), rgba(79, 70, 229, .95));
    box-shadow: 0 14px 34px rgba(37, 99, 235, .22);
    flex: 0 0 auto;
  }

  /* Shimmer overlay */
  #mobileTopTitle::after {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: 999px;
    pointer-events: none;

    background: linear-gradient(110deg,
        transparent 0%,
        rgba(255, 255, 255, .35) 18%,
        transparent 36%);
    transform: translateX(-120%);
    opacity: .85;
    mix-blend-mode: overlay;
    animation: mtShimmer 1.2s ease-out 1;
  }

  @keyframes mtShimmer {
    0% {
      transform: translateX(-120%);
    }

    100% {
      transform: translateX(120%);
    }
  }

  /* Subtle glow pulse once */
  #mobileTopTitle {
    animation: mtGlow .9s ease-out 1;
  }

  @keyframes mtGlow {
    0% {
      filter: saturate(1) brightness(1);
    }

    60% {
      filter: saturate(1.08) brightness(1.04);
    }

    100% {
      filter: saturate(1) brightness(1);
    }
  }

  /* Auto-hide class (ditoggle JS) */
  #mobileTopTitle.mt-hide {
    opacity: 0 !important;
    transform: translateY(-10px) !important;
    filter: blur(1px) !important;
  }

  /* Dark mode */
  body.dark #mobileTopTitle {
    background:
      radial-gradient(140px 50px at 18% 20%, rgba(255, 255, 255, .14), transparent 60%),
      linear-gradient(135deg, rgba(99, 102, 241, .26), rgba(37, 99, 235, .34)),
      rgba(15, 23, 42, .86) !important;

    border: 1px solid rgba(99, 102, 241, .38) !important;

    box-shadow:
      0 18px 48px rgba(0, 0, 0, .45),
      inset 0 1px 0 rgba(255, 255, 255, .08) !important;

    color: #e5e7eb !important;
  }

  body.dark #mobileTopTitle::after {
    opacity: .55;
  }
}





/* =========================================================
   HOME SEARCH — AUTO HIDE (FINAL)
   ========================================================= */

/* Pastikan home search punya transition halus */
@media (max-width: 560px) {
  body.home-top-visible .home-global-search {
    transition: opacity .22s ease, transform .22s ease, filter .22s ease;
    will-change: opacity, transform;
  }

  /* state hide */
  body.home-top-visible .home-global-search.hs-hide {
    opacity: 0 !important;
    transform: translateY(-12px) !important;
    filter: blur(1px) !important;
    pointer-events: none !important;
  }
}



























/* =========================================================
   NORMALIZE TOP SPACING (FIX JARAK KOSONG ANTAR HALAMAN)
   - Tujuan: 1 sumber kebenaran untuk offset atas
   - Tidak menghapus fitur: navbar bawah, mobile top title, home fixed search
   ========================================================= */

/* 1) Variabel offset global */
:root {
  --shell-top: 92px;
  /* desktop: ruang untuk top-nav (fixed) */
  --explore-sticky-top: 92px;
  /* desktop: sticky mengikuti top-nav */
}

/* 2) Jadikan page-shell satu-satunya yang mengatur jarak konten dari atas */
.page-shell {
  padding-top: var(--shell-top) !important;
}

/* 3) Matikan “padding-top” lain yang bikin dobel (kita override, bukan hapus fitur) */
body {
  padding-top: 0 !important;
}

/* Kadang ada patch kecil yang nambah padding-top per route */
@media (max-width: 520px) {
  .route {
    padding-top: 0 !important;
  }
}

/* =========================================================
   MOBILE: navbar pindah ke bawah, jadi offset atas seharusnya kecil
   - Kita kasih ruang hanya untuk judul atas (.mobile-top-title)
   ========================================================= */
@media (max-width: 768px) {
  :root {
    --shell-top: 52px;
    /* cukup untuk judul atas */
    --explore-sticky-top: 52px;
    /* sticky Explore ikut judul atas */
  }

  /* pastikan judul atas tidak bikin ruang dobel */
  body {
    padding-top: 0 !important;
  }

  /* Explore sticky: sebelumnya masih 92/78 (terlihat turun jauh),
     sekarang jadi pas di bawah judul atas */
  .explore-sticky {
    top: var(--explore-sticky-top) !important;
  }
}






/* =========================
   Chapter Picker – Text Visibility
   ========================= */
#modalOverlay.mode-chapter-picker .chapter-btn {
  color: #111 !important;
  /* teks hitam */
  font-weight: 600;
  letter-spacing: .2px;
}

#modalOverlay.mode-chapter-picker .chapter-btn span,
#modalOverlay.mode-chapter-picker .chapter-btn div {
  color: #111 !important;
}

/* kalau ada disabled */
#modalOverlay.mode-chapter-picker .chapter-btn.is-disabled {
  color: #999 !important;
}



#modalOverlay.mode-chapter-picker .chapter-btn {
  background: rgba(255, 255, 255, .9);
  border: 1px solid rgba(0, 0, 0, .06);
  box-shadow: 0 6px 18px rgba(0, 0, 0, .06);
}

/* =========================
   Chapter Picker – Modal Shape
   ========================= */

/* modal keseluruhan */
#modalOverlay.mode-chapter-picker .modal {
  max-height: 88vh;
  /* lebih tinggi */
  border-radius: 26px;
  /* lebih lembut */
}

/* area isi (yang berisi tombol pelajaran) */
#modalOverlay.mode-chapter-picker .modal-media {
  height: 72vh;
  /* sebelumnya ±60vh */
  border-radius: 22px;
  padding: 20px 12px;
}

/* container list pelajaran */
#modalOverlay.mode-chapter-picker .chapter-picker {
  gap: 16px;
}

/* =========================
   FIX: Chapter picker bisa scroll
   ========================= */
#modalOverlay.mode-chapter-picker .modal-media {
  overflow-y: auto;
  /* biar list bisa digeser */
  -webkit-overflow-scrolling: touch;
}

#modalOverlay.mode-chapter-picker #modalPlaceholder {
  height: 100%;
  overflow-y: auto;
  /* double-safe */
  align-content: start;
  /* mulai dari atas, bukan center */
  padding-top: 10px;
  padding-bottom: 10px;
}

/* biar tombol tidak terlalu “makan” tempat kalau list panjang */
#modalOverlay.mode-chapter-picker .chapter-picker {
  width: min(520px, 92%);
  gap: 14px;
  /* sebelumnya 18px */
  padding: 6px 0 18px;
}







/* =====================================
   PATCH: Naikkan foto slide Home (Mobile)
   ===================================== */
@media (max-width: 768px) {

  /* Naikkan seluruh promo slider */
  .home-promo-slider {
    margin-top: -16px;
    /* 🔥 ini kuncinya */
  }

  /* Rapatkan jarak ke konten bawah */
  .home-promo-slider+.hero-wrap {
    margin-top: -6px;
  }

}





































/* =========================================================
   HOME: fixed search header (hanya home, hanya layar kecil)
   - home-top-fix.js toggle body.home-top-visible :contentReference[oaicite:3]{index=3}
   - search jadi fixed (sebelumnya top: 30px) :contentReference[oaicite:4]{index=4}
   ========================================================= */
@media (max-width: 560px) {

  /* Posisikan search fixed tepat di bawah judul atas */
  body.home-top-visible .home-global-search {
    top: var(--shell-top) !important;
    /* sama dengan --shell-top mobile */
  }

  /* Karena search jadi fixed, HOME perlu tambahan ruang di atas konten
     agar tidak ketutup search */
  body.home-top-visible #route-home {
    padding-top: 84px !important;
    /* ruang ekstra untuk tinggi search */
  }

  /* Pastikan page-shell tidak makin “membengkak” akibat patch lama */
  .page-shell {
    padding-top: 52px !important;
  }
}

/* =========================
   Chapter Picker Modal
   ========================= */
#modalOverlay.mode-chapter-picker .modal-media {
  height: 60vh;
  min-height: 360px;
  padding: 18px 16px;
}

#modalOverlay.mode-chapter-picker #modalPlaceholder {
  display: grid !important;
  place-items: center;
  width: 100%;
  height: 100%;
}

#modalOverlay.mode-chapter-picker #modalFrame,
#modalOverlay.mode-chapter-picker #modalCarousel {
  display: none !important;
}

#modalOverlay.mode-chapter-picker .modal-info,
#modalOverlay.mode-chapter-picker .modal-actions {
  display: none !important;
}

.chapter-picker {
  width: min(520px, 92%);
  display: grid;
  gap: 18px;
  padding: 10px 0;
}

.chapter-btn {
  width: 100%;
  height: 56px;
  border-radius: 999px;
  border: 2px solid rgba(255, 255, 255, .75);
  background: rgba(255, 255, 255, .12);
  color: rgba(255, 255, 255, .92);
  font-weight: 700;
  letter-spacing: .2px;
  text-transform: none;
  box-shadow: 0 12px 30px rgba(0, 0, 0, .14);
}

.chapter-btn:active {
  transform: scale(.99);
}

.chapter-btn.is-locked {
  opacity: .55;
  filter: grayscale(.2);
}

/* Player mode (after choose chapter) — keep clean */
#modalOverlay.mode-chapter-player .modal-info {
  display: none !important;
}

#modalOverlay.mode-chapter-player #modalCarousel {
  display: none !important;
}

#modalOverlay.mode-chapter-player #modalPlaceholder {
  display: none !important;
}

#modalOverlay.mode-chapter-player #modalFrame {
  display: block !important;
  height: 52vh;
  min-height: 320px;
  border-radius: 18px;
}

/* =========================
   Modal — Teacher Card (replace iframe preview)
   ========================= */
.teacher-card-mini {
  width: 100%;
  height: 100%;
  min-height: 260px;
  display: grid;
  grid-template-columns: 110px 1fr;
  gap: 14px;
  align-items: center;
  padding: 16px;
  border-radius: 22px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 76%, transparent);
  box-shadow: var(--shadow-sm);
}

.teacher-card-mini .tcm-media {
  width: 110px;
  height: 110px;
  border-radius: 24px;
  overflow: hidden;
  position: relative;
  border: 1px solid var(--border);
  background: radial-gradient(520px 220px at 15% 0%, rgba(37, 99, 235, .14), transparent 60%),
    radial-gradient(520px 240px at 90% 10%, rgba(99, 102, 241, .12), transparent 60%),
    color-mix(in srgb, var(--surface-solid) 70%, transparent);
}

.teacher-card-mini .tcm-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.teacher-card-mini .tcm-media.noimg img {
  display: none;
}

.teacher-card-mini .tcm-fallback {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-weight: 1000;
  font-size: 40px;
  color: color-mix(in srgb, var(--text) 86%, var(--muted));
}

.teacher-card-mini .tcm-info {
  display: grid;
  gap: 6px;
}

.teacher-card-mini .tcm-kicker {
  display: inline-flex;
  width: fit-content;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  font-size: 12px;
  font-weight: 950;
  color: color-mix(in srgb, var(--text) 86%, var(--muted));
}

.teacher-card-mini .tcm-name {
  font-size: 18px;
  font-weight: 1000;
  letter-spacing: -.3px;
}

.teacher-card-mini .tcm-bio {
  font-size: 12px;
  font-weight: 850;
  color: var(--muted);
  line-height: 1.45;
}

.teacher-card-mini .tcm-badges {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 2px;
}


/* =========================
   Modal — Teacher Hero (more elegant)
   ========================= */
.teacher-card-mini.tcm-hero {
  position: relative;
  display: block;
  padding: 0;
  min-height: 280px;
  border-radius: 22px;
  overflow: hidden;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-solid) 70%, transparent);
  box-shadow: var(--shadow-sm);
}

.teacher-card-mini.tcm-hero .tcm-media {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border-radius: 0;
  border: 0;
  overflow: hidden;
  background: #0b1220;
}

.teacher-card-mini.tcm-hero .tcm-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transform: scale(1.02);
  filter: saturate(1.02) contrast(1.02);
}

.teacher-card-mini.tcm-hero .tcm-fallback {
  color: rgba(255, 255, 255, .85);
  font-size: 54px;
  background:
    radial-gradient(700px 320px at 20% 0%, rgba(255, 255, 255, .12), transparent 55%),
    linear-gradient(135deg, #0b1220, #1f2a44);
}

.teacher-card-mini.tcm-hero .tcm-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 18px;
  gap: 14px;
  background:
    linear-gradient(180deg, rgba(2, 6, 23, .22) 0%, rgba(2, 6, 23, 0) 40%),
    linear-gradient(0deg, rgba(2, 6, 23, .78) 0%, rgba(2, 6, 23, 0) 55%);
}

.teacher-card-mini.tcm-hero .tcm-top {
  display: flex;
  justify-content: flex-start;
}

.teacher-card-mini.tcm-hero .tcm-kicker {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, .18);
  background: rgba(255, 255, 255, .10);
  backdrop-filter: blur(10px);
  color: rgba(255, 255, 255, .92);
  font-weight: 950;
  font-size: 12px;
  letter-spacing: .2px;
}

.teacher-card-mini.tcm-hero .tcm-bottom {
  display: grid;
  gap: 8px;
  max-width: 64ch;
}

.teacher-card-mini.tcm-hero .tcm-name {
  color: #fff;
  font-size: 22px;
  font-weight: 1000;
  letter-spacing: -.35px;
  line-height: 1.12;
  text-shadow: 0 10px 30px rgba(0, 0, 0, .35);
}

.teacher-card-mini.tcm-hero .tcm-bio {
  color: rgba(255, 255, 255, .78);
  font-size: 12px;
  font-weight: 850;
  line-height: 1.5;
  text-shadow: 0 10px 30px rgba(0, 0, 0, .25);
}

.teacher-card-mini.tcm-hero .tcm-badges {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 2px;
}

.teacher-card-mini.tcm-hero .tcm-pill {
  display: inline-flex;
  align-items: center;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, .18);
  background: rgba(255, 255, 255, .10);
  backdrop-filter: blur(10px);
  color: rgba(255, 255, 255, .92);
  font-weight: 950;
  font-size: 12px;
}

.teacher-card-mini.tcm-hero .tcm-pill:first-child {
  background: rgba(34, 197, 94, .14);
  border-color: rgba(34, 197, 94, .22);
}

body.dark .teacher-card-mini.tcm-hero .tcm-overlay {
  background:
    linear-gradient(180deg, rgba(0, 0, 0, .24) 0%, rgba(0, 0, 0, 0) 40%),
    linear-gradient(0deg, rgba(0, 0, 0, .78) 0%, rgba(0, 0, 0, 0) 55%);
}

/* =========================================================
   MODAL PREVIEW (LESSON) — TEACHER HERO (FULL PHOTO)
   - Mengganti iframe jika URL kosong / placeholder (example.com)
   ========================================================= */

#modalPlaceholder.is-teacher-hero {
  padding: 0 !important;
  overflow: hidden !important;
  display: block;
  background: transparent;
}

#modalPlaceholder.is-teacher-hero .modal-teacher-hero {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 240px;
  border-radius: 22px;
  overflow: hidden;
  background: rgba(0, 0, 0, .06);
}

#modalPlaceholder.is-teacher-hero .modal-teacher-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

#modalPlaceholder.is-teacher-hero .modal-teacher-hero.noimg {
  display: grid;
  place-items: center;
}

#modalPlaceholder.is-teacher-hero .modal-teacher-overlay {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 14px 14px 12px;
  color: #fff;
  background: linear-gradient(to top, rgba(0, 0, 0, .65), rgba(0, 0, 0, 0));
}

#modalPlaceholder.is-teacher-hero .modal-teacher-name {
  font-weight: 900;
  font-size: 20px;
  letter-spacing: .2px;
  line-height: 1.1;
  text-shadow: 0 8px 18px rgba(0, 0, 0, .45);
}

#modalPlaceholder.is-teacher-hero .modal-teacher-role {
  margin-top: 6px;
  font-weight: 700;
  font-size: 14px;
  opacity: .95;
  text-shadow: 0 8px 18px rgba(0, 0, 0, .45);
}

@media (max-width:560px) {
  #modalPlaceholder.is-teacher-hero .modal-teacher-hero {
    min-height: 210px;
    border-radius: 20px;
  }

  #modalPlaceholder.is-teacher-hero .modal-teacher-name {
    font-size: 18px;
  }
}





/* ==================================
   Dark mode: Home cards color tuning
   (keep everything, only recolor)
   ================================== */

/* 1) Filter cepat card */
body.dark .quick-filter {
  background: rgba(15, 23, 42, .72);
  /* lebih gelap */
  border-color: rgba(255, 255, 255, .12);
  box-shadow: var(--shadow-sm);
}

body.dark .quick-filter .qf-title {
  color: var(--text);
}

body.dark .quick-filter .qf-sub {
  color: color-mix(in srgb, var(--muted) 92%, white 8%);
}

/* Chips di dalam filter cepat (biar ga tampak abu terang) */
body.dark .quick-filter .chip {
  background: rgba(255, 255, 255, .06);
  border-color: rgba(255, 255, 255, .12);
  color: var(--text);
}

/* 2) Promo card + tombol (Info Masisir / Profil Pengajar / Marketplace) */
body.dark .promo-card {
  background: rgba(15, 23, 42, .72);
  border-color: rgba(255, 255, 255, .12);
}

body.dark .promo-actions .btn {
  /* kalau tombol terasa “pucat”, bikin sedikit lebih kontras */
  background: rgba(255, 255, 255, .06);
  border-color: rgba(255, 255, 255, .12);
  color: var(--text);
}

body.dark .promo-actions .btn.soft {
  background: rgba(255, 255, 255, .04);
}

/* Badge promo yang sebelumnya putih */
body.dark .promo-badge {
  background: rgba(255, 255, 255, .08);
  border-color: rgba(255, 255, 255, .14);
  color: var(--text);
}

/* 3) Card “Daftar jadi Pengajar…” + pill */
body.dark .reg-card {
  background: rgba(15, 23, 42, .72);
  border: 1px solid rgba(255, 255, 255, .12);
  box-shadow: var(--shadow-sm);
}

body.dark .reg-card .reg-title {
  color: var(--text);
}

body.dark .reg-card .reg-pill {
  background: rgba(255, 255, 255, .08);
  /* sebelumnya putih */
  border-color: rgba(255, 255, 255, .14);
  color: var(--text);
}

body.dark .reg-card .reg-desc,
body.dark .reg-card .reg-note {
  color: var(--muted);
}



/* ==========================================
   FIX: Teach card text color mismatch (HP vs simulator)
   ========================================== */

/* LIGHT mode: pastikan teks selalu gelap */
body:not(.dark) .teach-card {
  color: #0f172a !important;
  -webkit-text-fill-color: #0f172a !important;
}

body:not(.dark) .teach-card .teach-title {
  color: #0f172a !important;
}

body:not(.dark) .teach-card .teach-meta,
body:not(.dark) .teach-card .teach-hint {
  color: #334155 !important;
}

/* DARK mode: pastikan teks mengikuti theme variables */
body.dark .teach-card {
  color: var(--text) !important;
  -webkit-text-fill-color: var(--text) !important;
}

body.dark .teach-card .teach-title {
  color: var(--text) !important;
}

body.dark .teach-card .teach-meta,
body.dark .teach-card .teach-hint {
  color: var(--muted) !important;
}



/* ==============================
   FIX: Badge "BUTUH PENGAJAR"
   ============================== */

/* Badge / pill biru */
.teach-badge,
.teach-card .teach-badge,
.teach-card .badge,
.teach-card .status-badge {
  color: #ffffff !important;
  -webkit-text-fill-color: #ffffff !important;
  /* iOS / WebView */
}

/* Pastikan tidak ketimpa theme */
body.dark .teach-badge,
body:not(.dark) .teach-badge {
  color: #ffffff !important;
}


/* =========================================================
   PATCH: Livin-like Topbar + Bottom Nav + Bimbel Tabs (Mobile)
   - Desktop: tetap pakai .top-nav existing
   - Mobile: pakai .m-topbar + .m-bottom-nav + tombol BIMBEL tengah
   ========================================================= */

@media (max-width: 768px) {

  /* Hindari double-navbar di mobile (CSS lama pernah pindahkan .top-nav ke bawah) */
  .top-nav {
    display: none !important;
  }

  /* Beri ruang untuk topbar dan bottomnav */
  :root {
    --shell-top: 76px;
  }

  body {
    padding-bottom: 96px !important;
  }

  /* ===== TOPBAR ===== */
  .m-topbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1200;
    padding: 10px 12px;
    background: rgba(255, 255, 255, .88);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  body.dark .m-topbar {
    background: rgba(16, 18, 24, .72);
  }

  .m-topbar-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    max-width: 980px;
    margin: 0 auto;
  }

  .m-prof {
    display: flex;
    align-items: center;
    gap: 10px;
    border: 0;
    background: transparent;
    padding: 6px 8px;
    border-radius: 16px;
    color: inherit;
  }

  .m-ava {
    width: 38px;
    height: 38px;
    border-radius: 999px;
    display: grid;
    place-items: center;
    font-weight: 900;
    background: rgba(0, 0, 0, .06);
  }

  body.dark .m-ava {
    background: rgba(255, 255, 255, .08);
  }

  .m-prof-txt {
    display: flex;
    flex-direction: column;
    line-height: 1.1;
    text-align: left;
  }

  .m-prof-name {
    font-weight: 900;
    font-size: 14px;
  }

  .m-prof-sub {
    font-size: 12px;
    opacity: .72;
  }

  .m-topbar-actions {
    display: flex;
    gap: 6px;
  }

  .m-ic {
    width: 38px;
    height: 38px;
    border-radius: 14px;
    border: 0;
    background: rgba(0, 0, 0, .06);
    display: grid;
    place-items: center;
    font-size: 16px;
    color: inherit;
  }

  body.dark .m-ic {
    background: rgba(255, 255, 255, .08);
  }

  /* ===== BOTTOM NAV ===== */
  .m-bottom-nav {
    position: fixed;
    left: 12px;
    right: 12px;
    bottom: 5px;
    z-index: 1200;

    height: 66px;
    border-radius: 22px;
    background: rgba(255, 255, 255, .92);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow: 0 12px 28px rgba(0, 0, 0, .14);

    display: grid;
    grid-template-columns: 1fr 1fr 88px 1fr 1fr;
    align-items: center;
    padding: 0 10px;
    gap: 6px;
  }

  body.dark .m-bottom-nav {
    background: rgba(16, 18, 24, .80);
  }

  .m-nav-item {
    text-decoration: none;
    color: inherit;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 2px;
    padding: 6px 2px;
    border-radius: 16px;
    opacity: .86;
  }

  .m-nav-item.is-active {
    opacity: 1;
    background: rgba(0, 0, 0, .06);
  }

  body.dark .m-nav-item.is-active {
    background: rgba(255, 255, 255, .08);
  }

  .m-ico {
    font-size: 18px;
    line-height: 1;
  }

  .m-txt {
    font-size: 11px;
    font-weight: 800;
  }

  /* tombol tengah besar */
  .m-nav-mid {
    width: 72px;
    height: 72px;
    margin-top: -22px;
    border-radius: 24px;
    background: #22c55e;
    color: white;
    text-decoration: none;
    display: grid;
    place-items: center;
    box-shadow: 0 16px 28px rgba(59, 130, 246, .35);
    position: relative;
  }

  .m-mid-ico {
    font-size: 22px;
    line-height: 1;
  }

  .m-mid-txt {
    position: absolute;
    bottom: 8px;
    font-size: 10px;
    font-weight: 900;
    letter-spacing: .2px;
  }

  /* ===== BIMBEL TABS (Explore/Offline/Intensif) ===== */
  .bimbel-tabs {
    display: flex;
    gap: 8px;
    padding: 10px 0 10px;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .bimbel-tabs .btab {
    text-decoration: none;
    color: inherit;
    font-weight: 900;
    font-size: 12px;
    padding: 10px 12px;
    border-radius: 999px;
    background: rgba(0, 0, 0, .06);
    white-space: nowrap;
  }

  body.dark .bimbel-tabs .btab {
    background: rgba(255, 255, 255, .08);
  }
}

/* Active tab (tanpa JS) */
.route[data-route="explore"] .bimbel-tabs .btab[data-tab="explore"],
.route[data-route="offline"] .bimbel-tabs .btab[data-tab="offline"],
.route[data-route="intensif"] .bimbel-tabs .btab[data-tab="intensif"] {
  background: rgba(59, 130, 246, .16);
}

body.dark .route[data-route="explore"] .bimbel-tabs .btab[data-tab="explore"],
body.dark .route[data-route="offline"] .bimbel-tabs .btab[data-tab="offline"],
body.dark .route[data-route="intensif"] .bimbel-tabs .btab[data-tab="intensif"] {
  background: rgba(59, 130, 246, .26);
}


/* =========================================================
   HOTFIX: m-topbar tidak boleh full-screen (hindari blur menutupi konten)
   Jika ada rule global untuk <header> yang memberi bottom:0 / inset.
   ========================================================= */
@media (max-width: 768px) {
  #mTopbar.m-topbar {
    inset: 12px 12px auto 12px !important;
    /* top right bottom left */
    bottom: auto !important;
    height: 64px !important;
    max-height: 64px !important;
    border-radius: 24px;
    overflow: hidden;
  }

  #mTopbar .m-topbar-inner {
    height: 100%;
  }
}


/* =========================================================
   HOTFIX (Home only): Hilangkan title "Nuqthah Learning Center"
   & rapikan jarak konten HOME agar tidak terlalu jauh dari topnav.
   - Tidak mengubah spacing halaman lain.
   ========================================================= */
@media (max-width: 560px) {

  /* Pastikan title pill tidak pernah muncul lagi */
  #mobileTopTitle {
    display: none !important;
  }

  /* Di HOME saja: hilangkan tambahan jarak ekstra (page-shell sudah punya padding-top) */
  body.home-top-visible #route-home {
    padding-top: 0 !important;
  }
}





@media (max-width: 768px) {

  /* pastikan tidak ada teks yang kebawa render */
  .m-nav-mid {
    font-size: 0 !important;
    line-height: 0 !important;
  }

  /* hide total ikon+teks bawaan */
  .m-nav-mid .m-mid-ico,
  .m-nav-mid .m-mid-txt {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
  }

  /* tampilkan logo sebagai background */
  .m-nav-mid {
    background-image: url("images/bimbel.png");
    background-repeat: no-repeat;
    background-position: center;
    background-size: 56px auto;
    /* sesuaikan bila perlu */
  }
}




/* =========================================
   FILTER CEPAT — MODE BUTTON
   SAMA DENGAN TOMBOL INFO / MARKETPLACE
   ========================================= */

/* container */
.home-quick-modes {
  display: flex;
  gap: 10px;
  margin: 12px 0 14px;
}

/* tombol mode */
.home-quick-modes .mode-btn {
  flex: 1;
  padding: 10px 14px;
  border-radius: 14px;
  /* SAMA seperti tombol info */
  font-size: 13px;
  font-weight: 800;
  background: linear-gradient(180deg,
      #eef3ff,
      #e4edff);
  color: #1f2937;
  border: 1px solid rgba(99, 102, 241, 0.25);
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0, 0, 0, .06);
  transition: all .18s ease;
}

/* hover */
.home-quick-modes .mode-btn:hover {
  background: linear-gradient(180deg,
      #e0e9ff,
      #d7e2ff);
}

/* aktif (disamakan feel-nya) */
.home-quick-modes .mode-btn.active {
  background: linear-gradient(135deg,
      var(--primary),
      var(--primary2));
  color: #fff;
  border-color: transparent;
  box-shadow: 0 6px 18px rgba(79, 70, 229, .35);
}

/* FIX: hilangkan "kotak" wrapper (hero-card) supaya tidak ada 2 kotak */
.route[data-route="home"] .card.hero-card {
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  padding: 0 !important;
}

/* opsional: pastikan quick-filter tetap rapih menempel */
.route[data-route="home"] .card.hero-card .quick-filter {
  margin: 0 !important;
}


@media (max-width: 768px) {
  .m-topbar-actions {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    flex-wrap: nowrap !important;
  }

  .m-topbar-actions a.m-ic {
    text-decoration: none;
    color: inherit;
  }
}


/* =========================================================
   HERO TEACHER MARQUEE (Home) — 3 rows, infinite scroll
   - Tidak memakai #promoTrack/#promoDots (menghindari konflik dengan app.js promo slider)
========================================================= */

.teacher-marquee {
  margin-top: 10px
}

.teacher-marquee .tm-shell {
  background: #fff;
  border-radius: 18px;
  padding: 12px 10px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, .06);
  overflow: hidden;
}

.tm-row {
  position: relative;
  overflow: hidden;
  padding: 6px 0;
}

.tm-row+.tm-row {
  border-top: 1px solid rgba(0, 0, 0, .06)
}

.tm-track {
  display: flex;
  gap: 10px;
  width: max-content;
  will-change: transform;
  animation: tm-scroll-left 40s linear infinite;
}

.tm-row[data-row="2"] .tm-track {
  animation-duration: 50s;
  animation-direction: reverse;
}

.tm-row[data-row="3"] .tm-track {
  animation-duration: 40s;
}

@keyframes tm-scroll-left {
  from {
    transform: translateX(0)
  }

  to {
    transform: translateX(-50%)
  }
}

.tm-card {
  display: flex;
  align-items: center;
  gap: 10px;
  min-width: 220px;
  max-width: 260px;
  padding: 10px 12px;
  border-radius: 16px;
  background: linear-gradient(180deg, #ffffff 0%, #f7f7f7 100%);
  border: 1px solid rgba(0, 0, 0, .06);
  box-shadow: 0 8px 18px rgba(0, 0, 0, .04);
  user-select: none;
}

.tm-card:active {
  transform: scale(.99)
}

.tm-avatar {
  width: 46px;
  height: 46px;
  border-radius: 14px;
  background: #eee;
  position: relative;
  overflow: hidden;
  flex: 0 0 46px;
}

.tm-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.tm-avatar.noimg .tm-fallback {
  display: grid
}

.tm-fallback {
  position: absolute;
  inset: 0;
  display: none;
  place-items: center;
  font-weight: 900;
  color: #111;
}

.tm-text {
  min-width: 0
}

.tm-name {
  font-size: 13px;
  font-weight: 950;
  line-height: 1.1;
  letter-spacing: .2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.tm-role {
  margin-top: 4px;
  font-size: 12px;
  font-weight: 750;
  color: rgba(0, 0, 0, .62);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Mobile tuning */
@media (max-width: 480px) {
  .tm-card {
    min-width: 200px
  }
}